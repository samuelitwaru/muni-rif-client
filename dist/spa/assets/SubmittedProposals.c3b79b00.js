import{Q as ye,a as Z}from"./QBreadcrumbs.748b511b.js";import{Q as Se}from"./QSeparator.bc4ab105.js";import{Q as ie}from"./QSelect.e757c997.js";import{Q as we}from"./QPopupProxy.93b59590.js";import{m as D,y as Pe,p as h,a7 as ae,s as U,n as _,Q as ue,g as Ce,R as xe,D as M,a1 as ke,aw as V,ab as qe,aG as Qe,ap as E,aH as j,z as ee,G as z,ao as H,E as Te,O as Ae,aK as Ie,I as A,aS as ce,V as Re,W as O,aT as de,ai as Ve,q as $e,C as Be,_ as pe,o as x,j as T,f as b,w as P,e as F,l as K,v as De,F as $,k as B,h as Y,t as q,i as f,r as te,aM as Ne,aN as Le}from"./index.372b62db.js";import{Q as Ee}from"./QChip.560ae1ed.js";import{Q as Ue}from"./QMarkupTable.bdafed48.js";import{Q as Fe}from"./QPage.df56d1c1.js";import{Q as Ke,a as Me}from"./QItem.c4f1d44e.js";import{Q as We}from"./QList.a74a6716.js";import{g as ne,s as se}from"./touch.3df10340.js";import{c as je}from"./selection.e182eadb.js";import{u as ve}from"./use-cache.b0833c75.js";import{Q as ze}from"./QCard.ba25df8d.js";import{a as He,u as Oe}from"./use-dark.cd8e6500.js";import"./use-key-composition.13002416.js";import"./use-split-attrs.ea225c22.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./QItemLabel.91eae473.js";import"./QMenu.f463cb0d.js";import"./use-timeout.72e0ae7f.js";import"./focusout.d5a07f8b.js";import"./use-transition.d67f9a8c.js";import"./scroll.34254c72.js";import"./QDialog.9471a2e4.js";import"./use-prevent-scroll.43125bb0.js";import"./use-form.951763b6.js";import"./format.3e32b8d9.js";var Ye=D({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:n,emit:a}){let c=!1,r,t,s=null,i=null,l,g;function v(){r&&r(),r=null,c=!1,s!==null&&(clearTimeout(s),s=null),i!==null&&(clearTimeout(i),i=null),t!==void 0&&t.removeEventListener("transitionend",l),l=null}function y(u,o,p){o!==void 0&&(u.style.height=`${o}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,r=p}function m(u,o){u.style.overflowY=null,u.style.height=null,u.style.transition=null,v(),o!==g&&a(o)}function C(u,o){let p=0;t=u,c===!0?(v(),p=u.offsetHeight===u.scrollHeight?0:void 0):(g="hide",u.style.overflowY="hidden"),y(u,p,o),s=setTimeout(()=>{s=null,u.style.height=`${u.scrollHeight}px`,l=w=>{i=null,(Object(w)!==w||w.target===u)&&m(u,"show")},u.addEventListener("transitionend",l),i=setTimeout(l,e.duration*1.1)},100)}function k(u,o){let p;t=u,c===!0?v():(g="show",u.style.overflowY="hidden",p=u.scrollHeight),y(u,p,o),s=setTimeout(()=>{s=null,u.style.height=0,l=w=>{i=null,(Object(w)!==w||w.target===u)&&m(u,"hide")},u.addEventListener("transitionend",l),i=setTimeout(l,e.duration*1.1)},100)}return Pe(()=>{c===!0&&v()}),()=>h(ae,{css:!1,appear:e.appear,onEnter:C,onLeave:k},n.default)}}),fe=D({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:a}}=M(),c=U(null),r=_(()=>e.stepper.modelValue===e.step.name),t=_(()=>{const o=e.step.disable;return o===!0||o===""}),s=_(()=>{const o=e.step.error;return o===!0||o===""}),i=_(()=>{const o=e.step.done;return t.value===!1&&(o===!0||o==="")}),l=_(()=>{const o=e.step.headerNav,p=o===!0||o===""||o===void 0;return t.value===!1&&e.stepper.headerNav&&p}),g=_(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(s.value===!1||e.stepper.errorIcon==="none")&&(i.value===!1||e.stepper.doneIcon==="none")),v=_(()=>{const o=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const p=e.step.activeIcon||e.stepper.activeIcon;return p==="none"?o:p||a.iconSet.stepper.active}if(s.value===!0){const p=e.step.errorIcon||e.stepper.errorIcon;return p==="none"?o:p||a.iconSet.stepper.error}if(t.value===!1&&i.value===!0){const p=e.step.doneIcon||e.stepper.doneIcon;return p==="none"?o:p||a.iconSet.stepper.done}return o}),y=_(()=>{const o=s.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const p=e.step.activeColor||e.stepper.activeColor||e.step.color;return p!==void 0?p:o}return o!==void 0?o:t.value===!1&&i.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),m=_(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(y.value!==void 0?` text-${y.value}`:"")+(s.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(g.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(i.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),C=_(()=>e.stepper.headerNav!==!0?!1:l.value);function k(){c.value!==null&&c.value.focus(),r.value===!1&&e.goToPanel(e.step.name)}function u(o){o.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const o={class:m.value};l.value===!0&&(o.onClick=k,o.onKeyup=u,Object.assign(o,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const p=[h("div",{class:"q-focus-helper",tabindex:-1,ref:c}),h("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[h("span",{class:"row flex-center"},[g.value===!0?e.step.prefix:h(ue,{name:v.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const w=[h("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&w.push(h("div",{class:"q-stepper__caption"},e.step.caption)),p.push(h("div",{class:"q-stepper__label q-stepper__line relative-position"},w))}return Ce(h("div",o,p),[[xe,C.value]])}}});function Ge(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,c)=>{const r=parseFloat(a);r&&(n[c]=r)}),n}var Xe=ke({name:"touch-swipe",beforeMount(e,{value:n,arg:a,modifiers:c}){if(c.mouse!==!0&&V.has.touch!==!0)return;const r=c.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Ge(a),direction:ne(c),noop:qe,mouseStart(s){se(s,t)&&Qe(s)&&(E(t,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(s,!0))},touchStart(s){if(se(s,t)){const i=s.target;E(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),t.start(s)}},start(s,i){V.is.firefox===!0&&j(e,!0);const l=ee(s);t.event={x:l.left,y:l.top,time:Date.now(),mouse:i===!0,dir:!1}},move(s){if(t.event===void 0)return;if(t.event.dir!==!1){z(s);return}const i=Date.now()-t.event.time;if(i===0)return;const l=ee(s),g=l.left-t.event.x,v=Math.abs(g),y=l.top-t.event.y,m=Math.abs(y);if(t.event.mouse!==!0){if(v<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(s);return}}else if(window.getSelection().toString()!==""){t.end(s);return}else if(v<t.sensitivity[2]&&m<t.sensitivity[2])return;const C=v/i,k=m/i;t.direction.vertical===!0&&v<m&&v<100&&k>t.sensitivity[0]&&(t.event.dir=y<0?"up":"down"),t.direction.horizontal===!0&&v>m&&m<100&&C>t.sensitivity[0]&&(t.event.dir=g<0?"left":"right"),t.direction.up===!0&&v<m&&y<0&&v<100&&k>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&v<m&&y>0&&v<100&&k>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&v>m&&g<0&&m<100&&C>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&v>m&&g>0&&m<100&&C>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(z(s),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),je(),t.styleCleanup=u=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const o=()=>{document.body.classList.remove("no-pointer-events--children")};u===!0?setTimeout(o,50):o()}),t.handler({evt:s,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:i,distance:{x:v,y:m}})):t.end(s)},end(s){t.event!==void 0&&(H(t,"temp"),V.is.firefox===!0&&j(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),s!==void 0&&t.event.dir!==!1&&z(s),t.event=void 0)}};if(e.__qtouchswipe=t,c.mouse===!0){const s=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";E(t,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}V.has.touch===!0&&E(t,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const a=e.__qtouchswipe;a!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&a.end(),a.handler=n.value),a.direction=ne(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(H(n,"main"),H(n,"temp"),V.is.firefox===!0&&j(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});const Je={name:{required:!0},disable:Boolean},re={setup(e,{slots:n}){return()=>h("div",{class:"q-panel scroll",role:"tabpanel"},A(n.default))}},Ze={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},et=["update:modelValue","beforeTransition","transition"];function tt(){const{props:e,emit:n,proxy:a}=M(),{getCacheWithFn:c}=ve();let r,t;const s=U(null),i=U(null);function l(d){const S=e.vertical===!0?"up":"left";R((a.$q.lang.rtl===!0?-1:1)*(d.direction===S?1:-1))}const g=_(()=>[[Xe,l,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),k=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),u=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Te(()=>e.modelValue,(d,S)=>{const Q=N(d)===!0?W(d):-1;t!==!0&&G(Q===-1?0:Q<W(S)?-1:1),s.value!==Q&&(s.value=Q,n("beforeTransition",d,S),Ae(()=>{n("transition",d,S)}))});function o(){R(1)}function p(){R(-1)}function w(d){n("update:modelValue",d)}function N(d){return d!=null&&d!==""}function W(d){return r.findIndex(S=>S.props.name===d&&S.props.disable!==""&&S.props.disable!==!0)}function he(){return r.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function G(d){const S=d!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(d===-1?v.value:y.value):null;i.value!==S&&(i.value=S)}function R(d,S=s.value){let Q=S+d;for(;Q>-1&&Q<r.length;){const L=r[Q];if(L!==void 0&&L.props.disable!==""&&L.props.disable!==!0){G(d),t=!0,n("update:modelValue",L.props.name),setTimeout(()=>{t=!1});return}Q+=d}e.infinite===!0&&r.length!==0&&S!==-1&&S!==r.length&&R(d,d===-1?r.length:-1)}function X(){const d=W(e.modelValue);return s.value!==d&&(s.value=d),!0}function J(){const d=N(e.modelValue)===!0&&X()&&r[s.value];return e.keepAlive===!0?[h(ce,k.value,[h(u.value===!0?c(C.value,()=>({...re,name:C.value})):re,{key:C.value,style:m.value},()=>d)])]:[h("div",{class:"q-panel scroll",style:m.value,key:C.value,role:"tabpanel"},[d])]}function ge(){if(r.length!==0)return e.animated===!0?[h(ae,{name:i.value},J)]:J()}function _e(d){return r=Ie(A(d.default,[])).filter(S=>S.props!==null&&S.props.slot===void 0&&N(S.props.name)===!0),r.length}function be(){return r}return Object.assign(a,{next:o,previous:p,goTo:w}),{panelIndex:s,panelDirectives:g,updatePanelsList:_e,updatePanelIndex:X,getPanelContent:ge,getEnabledPanels:he,getPanels:be,isValidPanelName:N,keepAliveProps:k,needsUniqueKeepAliveWrapper:u,goToPanelByOffset:R,goToPanel:w,nextPanel:o,previousPanel:p}}function me(e){return h("div",{class:"q-stepper__step-content"},[h("div",{class:"q-stepper__step-inner"},A(e.default))])}const oe={setup(e,{slots:n}){return()=>me(n)}};var le=D({name:"QStep",props:{...Je,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:a}){const{proxy:{$q:c}}=M(),r=Re(de,O);if(r===O)return console.error("QStep needs to be a child of QStepper"),O;const{getCacheWithFn:t}=ve(),s=U(null),i=_(()=>r.value.modelValue===e.name),l=_(()=>c.platform.is.ios!==!0&&c.platform.is.chrome===!0||i.value!==!0||r.value.vertical!==!0?{}:{onScroll(y){const{target:m}=y;m.scrollTop>0&&(m.scrollTop=0),e.onScroll!==void 0&&a("scroll",y)}}),g=_(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function v(){const y=r.value.vertical;return y===!0&&r.value.keepAlive===!0?h(ce,r.value.keepAliveProps.value,i.value===!0?[h(r.value.needsUniqueKeepAliveWrapper.value===!0?t(g.value,()=>({...oe,name:g.value})):oe,{key:g.value},n.default)]:void 0):y!==!0||i.value===!0?me(n):void 0}return()=>h("div",{ref:s,class:"q-stepper__step",role:"tabpanel",...l.value},r.value.vertical===!0?[h(fe,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?h(Ye,v):v()]:[v()])}}),nt=D({name:"QStepperNavigation",setup(e,{slots:n}){return()=>h("div",{class:"q-stepper__nav"},A(n.default))}});const st=/(-\w)/g;function rt(e){const n={};for(const a in e){const c=a.replace(st,r=>r[1].toUpperCase());n[c]=e[a]}return n}var ot=D({name:"QStepper",props:{...He,...Ze,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:et,setup(e,{slots:n}){const a=M(),c=Oe(e,a.proxy.$q),{updatePanelsList:r,isValidPanelName:t,updatePanelIndex:s,getPanelContent:i,getPanels:l,panelDirectives:g,goToPanel:v,keepAliveProps:y,needsUniqueKeepAliveWrapper:m}=tt();Ve(de,_(()=>({goToPanel:v,keepAliveProps:y,needsUniqueKeepAliveWrapper:m,...e})));const C=_(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(c.value===!0?" q-stepper--dark q-dark":"")),k=_(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function u(){const o=A(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&s();const p=h("div",{class:"q-stepper__content"},A(n.default));return o===void 0?[p]:o.concat(p)}return[h("div",{class:k.value},l().map(p=>{const w=rt(p.props);return h(fe,{key:w.name,stepper:e,step:w,goToPanel:v})})),o,Be("div",{class:"q-stepper__content q-panel-parent"},i(),"cont",e.swipeable,()=>g.value)]}return()=>(r(n),h("div",{class:C.value},$e(n.navigation,u())))}});const lt={props:["reviewers"],name:"AssignReviewers",data(){return{step:1,selectedReviewers:[]}},methods:{next(){this.step==2?this.$emit("reviewers-selected",this.selectedReviewers):this.$refs.stepper.next()},selectReviewer(e){this.selectedReviewers.includes(e)?this.selectedReviewers=this.selectedReviewers.filter(n=>n!=e):this.selectedReviewers.push(e)}}},it={style:{height:"500px"}};function at(e,n,a,c,r,t){return x(),T("div",it,[b(ot,{modelValue:r.step,"onUpdate:modelValue":n[2]||(n[2]=s=>r.step=s),ref:"stepper",color:"primary",animated:""},{navigation:P(()=>[b(nt,{align:"right"},{default:P(()=>[r.step>1?(x(),F(K,{key:0,flat:"",color:"primary",onClick:n[1]||(n[1]=s=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):De("",!0),b(K,{onClick:t.next,color:"primary",label:r.step===2?"Finish":"Continue"},null,8,["onClick","label"])]),_:1})]),default:P(()=>[b(ie,{modelValue:e.model,"onUpdate:modelValue":n[0]||(n[0]=s=>e.model=s),options:e.options,label:"Standard",filled:""},null,8,["modelValue","options"]),b(le,{name:1,title:"Select Reviewers",icon:"settings",done:r.step>1},{default:P(()=>[b(We,{bordered:"",class:"",style:{width:"500px","max-height":"280px","overflow-y":"auto"}},{default:P(()=>[(x(!0),T($,null,B(a.reviewers,s=>(x(),F(Ke,{onClick:i=>t.selectReviewer(s.id),clickable:"",active:r.selectedReviewers.includes(s.id),key:s.id},{default:P(()=>[b(Me,null,{default:P(()=>[Y(q(s.first_name)+" "+q(s.last_name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1},8,["done"]),b(le,{name:2,title:"Invite Reviewers",icon:"create_new_folder",done:r.step>2},{default:P(()=>[f("p",null,[b(ue,{name:"info",size:"md"}),Y(" An email invitation will be sent to each of the selected reviewers ")]),b(ze,{class:"my-card",style:{width:"500px",height:"250px","overflow-y":"auto"},flat:"",bordered:""},{default:P(()=>[f("ul",null,[(x(!0),T($,null,B(a.reviewers.filter(s=>r.selectedReviewers.includes(s.id)),s=>(x(),T("li",{key:s.id},[Y(q(s.first_name)+" "+q(s.last_name)+" ("+q(s.email)+") ",1),f("ul",null,[(x(!0),T($,null,B(s.profile.themes,i=>(x(),T("li",{key:i.id},q(i.theme_title),1))),128))])]))),128))])]),_:1})]),_:1},8,["done"])]),_:1},8,["modelValue"])])}var ut=pe(lt,[["render",at]]);const ct={components:{AssignReviewers:ut},name:"ReviewerList",data(){return{show:!1,formData:{theme:null,exclude__status:"EDITING",call:this.$dataStore.currentCall.id},proposals:[],themes:[],selectedProposals:[],allSelected:!1}},created(){this.getProposals(),this.getThemes(),this.getReviewers()},methods:{getProposals(){var e=this.$buildURLQuery(this.formData);this.$api.get(`proposals/?${e}`).then(n=>{this.proposals=n.data,this.getProposalScores()})},getThemes(){this.$api.get("themes/").then(e=>{this.themes=e.data})},getReviewers(){var e=this.$buildURLQuery({themes__in:this.formData.theme});this.$api.get(`users/?${e}&groups__name__in=reviewer`).then(n=>{this.reviewers=n.data})},getProposalScores(){for(let e=0;e<this.proposals.length;e++){const n=this.proposals[e];this.$api.get(`scores/?proposal=${n.id}`).then(a=>{this.proposals[e].scores=a.data})}},createScores(e){this.$utilsStore.setLoading(!0);const n=e.length*this.selectedProposals.length;let a=0;for(let c=0;c<e.length;c++){const r=e[c],t=this.reviewers.find(s=>s.id==r).email;for(let s=0;s<this.selectedProposals.length;s++){const i=this.selectedProposals[s];this.$api.post("scores/",{proposal:i,email:t,user:r}).then(l=>{a+=1,l.status==201&&console.log("done >> "+r+", "+i),a==n&&(this.$utilsStore.setLoading(!1),this.getProposalScores())}).catch(l=>{a+=1,a==n&&(this.$utilsStore.setLoading(!1),this.getProposalScores())})}}},deleteScore(e){confirm("Are you sure you would like to delete this reviewer?")&&(this.$utilsStore.setLoading(!0),this.$api.delete(`scores/${e}/`).then(n=>{n.status==204&&(this.getProposalScores(),this.$utilsStore.setLoading(!1))}))},selectProposal(e){this.selectedProposals.includes(e)?this.selectedProposals=this.selectedProposals.filter(n=>n!=e):this.selectedProposals.push(e),this.selectedProposals.length==this.proposals.length&&(this.allSelected=!0)},selectAllProposals(e){e.target.checked?this.selectedProposals=this.proposals.map(n=>n.id):this.selectedProposals=[]}}},I=e=>(Ne("data-v-8bfe3c74"),e=e(),Le(),e),dt={class:"q-ma-md"},pt={align:"right",class:"q-ma-sm row"},vt={class:"col"},ft={class:"col"},mt={align:"left"},ht=["checked"],gt=I(()=>f("th",{align:"left"},"Title",-1)),_t=I(()=>f("th",{align:"left"},"Date Submitted",-1)),bt=I(()=>f("th",{align:"left"},"PI",-1)),yt=I(()=>f("th",{align:"left"},"Reviewers",-1)),St=I(()=>f("th",{align:"left"},"Status",-1)),wt=I(()=>f("th",{align:"left"},null,-1)),Pt=["checked","onClick"],Ct={class:"flex"};function xt(e,n,a,c,r,t){const s=te("AssignReviewers"),i=te("router-link");return x(),F(Fe,null,{default:P(()=>[f("div",dt,[b(ye,null,{default:P(()=>[b(Z,{icon:"home",to:"/",label:"Home"}),b(Z,{label:"Submitted Proposals",icon:"list"})]),_:1})]),b(Se,{spaced:""}),f("div",pt,[f("div",vt,[b(ie,{modelValue:r.formData.theme,"onUpdate:modelValue":[n[0]||(n[0]=l=>r.formData.theme=l),n[1]||(n[1]=l=>{t.getProposals(),t.getReviewers()})],dense:"",outlined:"",options:[{id:null,title:"All"}].concat(r.themes),label:"Select Theme","option-value":"id","option-label":"title","map-options":"","emit-value":""},null,8,["modelValue","options"])]),f("div",ft,[b(K,{color:"primary",label:"Assign Reviewers",disabled:r.selectedProposals.length==0},{default:P(()=>[b(we,{modelValue:r.show,"onUpdate:modelValue":n[3]||(n[3]=l=>r.show=l),breakpoint:1e3},{default:P(()=>[b(s,{reviewers:e.reviewers,onReviewersSelected:n[2]||(n[2]=l=>{t.createScores(l),r.show=!1})},null,8,["reviewers"])]),_:1},8,["modelValue"])]),_:1},8,["disabled"])])]),b(Ue,{class:"q-ma-sm",flat:"",bordered:""},{default:P(()=>[f("thead",null,[f("tr",null,[f("th",mt,[f("input",{checked:r.allSelected,type:"checkbox",onClick:n[4]||(n[4]=l=>t.selectAllProposals(l))},null,8,ht)]),gt,_t,bt,yt,St,wt])]),f("tbody",null,[(x(!0),T($,null,B(r.proposals,l=>(x(),T("tr",{key:l.id},[f("td",null,[f("input",{checked:r.selectedProposals.includes(l.id),type:"checkbox",onClick:g=>t.selectProposal(l.id)},null,8,Pt)]),f("td",null,q(l.title),1),f("td",null,q(l.submission_date),1),f("td",null,q(l.user__first_name)+" "+q(l.user__last_name),1),f("td",null,[f("div",Ct,[(x(!0),T($,null,B(l.scores,g=>(x(),F(Ee,{key:g.id,class:"glossy",label:`${g.user__first_name} ${g.user__last_name}`,removable:"",onRemove:v=>t.deleteScore(g.id)},null,8,["label","onRemove"]))),128))])]),f("td",null,q(l.status),1),f("td",null,[b(i,{to:`/proposals/${l.id}`},{default:P(()=>[b(K,{label:"View",flat:"",color:"primary"})]),_:2},1032,["to"])])]))),128))])]),_:1})]),_:1})}var tn=pe(ct,[["render",xt],["__scopeId","data-v-8bfe3c74"]]);export{tn as default};
