import{Q as v}from"./QToolbarTitle.bd27c268.js";import{Q as P}from"./QCard.f9e0a707.js";import{P as S,T as x,B as y}from"./BudgetItems.d403963e.js";import b from"./ExpenseReports.c80f03fa.js";import{p as k}from"./ProposalScoreSheets.10397e70.js";import{P as E}from"./ProposalReportsEditor.89e7243e.js";import{_ as B,r as i,o,j as n,F as T,k as q,i as a,f as s,w as d,t as R,e as A}from"./index.e39be684.js";import"./use-dark.54601180.js";import"./QChip.19e4d28f.js";import"./QMarkupTable.c371dead.js";import"./QPopupProxy.768ca227.js";import"./QDialog.f5d6fd89.js";import"./use-prevent-scroll.92142e4c.js";import"./scroll.eaa460d0.js";import"./use-timeout.65a9f0b9.js";import"./QMenu.fcff140d.js";import"./focus-manager.b507780d.js";import"./use-transition.c0c5474a.js";import"./FileUploader2.ca087439.js";import"./QCardSection.1db827b1.js";import"./QSeparator.13d6beeb.js";import"./QItemLabel.aff81a70.js";import"./QItem.c0795fab.js";import"./QList.521c8a93.js";import"./QUploader.cf856800.js";import"./QCircularProgress.97b714c3.js";import"./format.2bc25e5f.js";import"./use-file.2de82242.js";const M={components:{ProposalAttachments:S,TeamMembers:x,BudgetItems:y,ExpenseReports:b,ProposalScoreSheets:k,ProposalReportsEditor:E},data(){return{sections:[],proposal:{},score:null,content:`
      <p>
        Lorem ipsum dolor sit amet consectetur, adipisicing elit. Obcaecati
        natus animi, et itaque ea tempora, exercitationem nemo nobis eos quos
        corrupti quasi cupiditate recusandae magnam, quis dicta facere dolore
        blanditiis.
      </p>`,attachments:[]}},created(){this.getProposal(),this.getSections()},methods:{getProposal(){this.$api.get(`proposals/${this.$route.params.proposal_id}/`).then(t=>{this.proposal=t.data,this.$proposalStore.setProposal(this.proposal),this.getScore(),this.getAttachments()})},getAttachments(){this.$api.get("attachments/").then(t=>{this.attachments=t.data,this.getFiles()})},getFiles(){for(let t=0;t<this.attachments.length;t++){const r=this.attachments[t];this.$api.get(`files/?proposal_id=${this.$route.params.proposal_id}&attachment_id=${r.id}`).then(p=>{var c=p.data;this.attachments.filter(m=>m.id==r.id)[0].files=c})}},getScore(){var t,r;console.log(((t=this.$authStore.currentUser)==null?void 0:t.id)||0),this.$api.get(`scores/?user=${((r=this.$authStore.currentUser)==null?void 0:r.id)||0}&proposal=${this.$route.params.proposal_id}`).then(p=>{p.data.length==1&&(this.score=p.data[0])})},getSections(){this.$api.get("sections/").then(t=>{this.sections=t.data})}}},w=["id"],F={class:"q-pa-sm"},L={class:"flex"},Q={key:0},C={key:1},I={key:2},j=["innerHTML"],H=a("hr",null,null,-1),N=a("hr",{id:"solution",class:"section-separator"},null,-1);function U(t,r,p,c,m,V){const h=i("ProposalAttachments"),_=i("TeamMembers"),u=i("BudgetItems"),g=i("ProposalScoreSheets"),f=i("ExpenseReports"),$=i("ProposalReportsEditor");return o(),n("div",null,[(o(!0),n(T,null,q(m.sections,e=>(o(),n("div",{key:e.id},[a("hr",{id:e.name,class:"section-separator"},null,8,w),a("div",F,[s(v,{class:"flex justify-between"},{default:d(()=>[a("div",L,R(e.title),1)]),_:2},1024),e.name=="attachments"?(o(),n("div",Q,[s(h)])):e.name=="team"?(o(),n("div",C,[s(_)])):e.name=="summary_budget"?(o(),n("div",I,[s(u)])):(o(),A(P,{key:3,flat:"",bordered:"",class:"q-pa-sm"},{default:d(()=>{var l;return[a("div",null,[a("div",{style:{overflow:"auto","min-height":"5rem"},innerHTML:((l=m.proposal)==null?void 0:l[e.name])||""},null,8,j)])]}),_:2},1024))])]))),128)),H,s(g),s(f),s($),N])}var $t=B(M,[["render",U]]);export{$t as default};
