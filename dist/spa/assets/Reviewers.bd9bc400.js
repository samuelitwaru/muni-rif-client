import{Q as g,a as p}from"./QBreadcrumbs.a764f39b.js";import{Q as w}from"./QSeparator.13d6beeb.js";import{_ as k,r as b,o as s,e as h,w as i,i as e,f as l,l as o,j as c,F as y,k as C,t as r,n as I,aN as Q,aO as $}from"./index.e39be684.js";import{Q as B}from"./QMarkupTable.c371dead.js";import{Q as N}from"./QPage.987cc192.js";import"./use-dark.54601180.js";const x={name:"ReviewerList",data(){return{formData:{title:""},reviewers:[]}},created(){this.init()},methods:{init(){this.getReviewers()},getReviewers(){this.$api.get("users/?groups__name__in=reviewer").then(t=>{this.reviewers=t.data})},inviteUser(t){if(confirm("Confirm send invite?")){const n={email:t.email};console.log("user",t),this.$api.post("users/send-invite/",n).then(d=>{if(d.status==200){var u="Invitation email has been sent";this.$q.notify(u)}})}},deleteItem(t){confirm("Delete this reviewer?")&&this.$api.delete(`users/${t}`).then(n=>{n.status==204&&this.init()})}}},R=t=>(Q("data-v-b3d26c94"),t=t(),$(),t),S={class:"q-ma-md"},V={align:"right",class:"q-ma-sm"},q=R(()=>e("thead",null,[e("tr",null,[e("th",{align:"left"},"First Name"),e("th",{align:"left"},"Last Name"),e("th",{align:"left"},"Email"),e("th",{align:"left"},"Telephone"),e("th",{align:"left"},"Qualification"),e("th",{align:"left"},"Status"),e("th",{align:"left"})])],-1)),E={key:0,class:"text-green"},T={key:1,class:"text-red"};function D(t,n,d,u,v,_){const f=b("router-link");return s(),h(N,null,{default:i(()=>[e("div",S,[l(g,null,{default:i(()=>[l(p,{icon:"home",to:"/",label:"Home"}),l(p,{label:"Reviewers",icon:"school"})]),_:1})]),l(w,{spaced:""}),e("div",V,[l(f,{to:"/reviewers/create"},{default:i(()=>[l(o,{color:"primary",outline:"",label:"add reviewer"})]),_:1})]),l(B,{class:"q-ma-sm",flat:"",bordered:""},{default:i(()=>[q,e("tbody",null,[(s(!0),c(y,null,C(v.reviewers,a=>(s(),c("tr",{key:a.id},[e("td",null,r(a.first_name),1),e("td",null,r(a.last_name),1),e("td",null,r(a.email),1),e("td",null,r(a.profile.phone),1),e("td",null,r(a.profile.qualification_name),1),e("td",null,[a.is_active?(s(),c("span",E,"ACTIVE")):(s(),c("span",T,"INACTIVE"))]),e("td",null,[l(f,{to:`/reviewers/${a.id}`},{default:i(()=>[l(o,{label:"View",flat:"",color:"primary",onClick:m=>t.editItem(a)},null,8,["onClick"])]),_:2},1032,["to"]),l(o,{icon:"delete",flat:"",color:"primary",onClick:m=>_.deleteItem(a.id)},null,8,["onClick"]),a.is_active?I("",!0):(s(),h(o,{key:0,label:"Invite",flat:"",color:"secondary",onClick:m=>_.inviteUser(a)},null,8,["onClick"]))])]))),128))])]),_:1})]),_:1})}var M=k(x,[["render",D],["__scopeId","data-v-b3d26c94"]]);export{M as default};
