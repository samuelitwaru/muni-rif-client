import{Q as ye,a as ee}from"./QBreadcrumbs.18ea6ff7.js";import{Q as Se}from"./QSeparator.6c6f2516.js";import{Q as Pe}from"./QSelect.99a4094b.js";import{Q as we}from"./QPopupProxy.46dd6502.js";import{m as B,y as Ce,p as h,a7 as ie,s as K,n as _,Q as ae,g as xe,R as ke,D as U,a1 as qe,aw as I,ab as Ae,aG as Re,ap as E,aH as W,z as te,G as j,ao as z,E as Te,O as Qe,aK as Ie,I as T,aR as ue,V as Ve,W as H,aS as ce,ai as $e,q as Be,C as De,_ as de,o as k,j as R,f as y,w,e as G,l as V,v as pe,F as $,k as F,i as g,h as O,t as q,r as Y,aM as Ne,aN as Le}from"./index.f337fba3.js";import{Q as Ee}from"./QMarkupTable.6b8f96f3.js";import{Q as Fe}from"./QPage.7c60fe9d.js";import{Q as Ke,a as Ue}from"./QItem.d2d6991a.js";import{Q as Me}from"./QList.f16661b5.js";import{g as se,s as ne}from"./touch.3df10340.js";import{c as We}from"./selection.7f679905.js";import{u as ve}from"./use-cache.b0833c75.js";import{Q as je}from"./QCard.be6f1227.js";import{a as ze,u as He}from"./use-dark.1793b84e.js";import Oe from"./ReviewedProposals.4d871d01.js";import"./use-key-composition.89769990.js";import"./use-split-attrs.26446f80.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./QChip.3c79b892.js";import"./QItemLabel.7bea3d83.js";import"./QMenu.6c1f0454.js";import"./use-timeout.d7fa171a.js";import"./focusout.1add3e24.js";import"./use-transition.41dca9ee.js";import"./scroll.e1bc6034.js";import"./QDialog.f0613908.js";import"./use-prevent-scroll.cbde5022.js";import"./use-form.e7940d77.js";import"./format.3e32b8d9.js";var Ye=B({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:s,emit:a}){let c=!1,r,t,n=null,l=null,f,i;function p(){r&&r(),r=null,c=!1,n!==null&&(clearTimeout(n),n=null),l!==null&&(clearTimeout(l),l=null),t!==void 0&&t.removeEventListener("transitionend",f),f=null}function b(u,o,v){o!==void 0&&(u.style.height=`${o}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,r=v}function m(u,o){u.style.overflowY=null,u.style.height=null,u.style.transition=null,p(),o!==i&&a(o)}function C(u,o){let v=0;t=u,c===!0?(p(),v=u.offsetHeight===u.scrollHeight?0:void 0):(i="hide",u.style.overflowY="hidden"),b(u,v,o),n=setTimeout(()=>{n=null,u.style.height=`${u.scrollHeight}px`,f=P=>{l=null,(Object(P)!==P||P.target===u)&&m(u,"show")},u.addEventListener("transitionend",f),l=setTimeout(f,e.duration*1.1)},100)}function x(u,o){let v;t=u,c===!0?p():(i="show",u.style.overflowY="hidden",v=u.scrollHeight),b(u,v,o),n=setTimeout(()=>{n=null,u.style.height=0,f=P=>{l=null,(Object(P)!==P||P.target===u)&&m(u,"hide")},u.addEventListener("transitionend",f),l=setTimeout(f,e.duration*1.1)},100)}return Ce(()=>{c===!0&&p()}),()=>h(ie,{css:!1,appear:e.appear,onEnter:C,onLeave:x},s.default)}}),fe=B({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:s}){const{proxy:{$q:a}}=U(),c=K(null),r=_(()=>e.stepper.modelValue===e.step.name),t=_(()=>{const o=e.step.disable;return o===!0||o===""}),n=_(()=>{const o=e.step.error;return o===!0||o===""}),l=_(()=>{const o=e.step.done;return t.value===!1&&(o===!0||o==="")}),f=_(()=>{const o=e.step.headerNav,v=o===!0||o===""||o===void 0;return t.value===!1&&e.stepper.headerNav&&v}),i=_(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(n.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),p=_(()=>{const o=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const v=e.step.activeIcon||e.stepper.activeIcon;return v==="none"?o:v||a.iconSet.stepper.active}if(n.value===!0){const v=e.step.errorIcon||e.stepper.errorIcon;return v==="none"?o:v||a.iconSet.stepper.error}if(t.value===!1&&l.value===!0){const v=e.step.doneIcon||e.stepper.doneIcon;return v==="none"?o:v||a.iconSet.stepper.done}return o}),b=_(()=>{const o=n.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const v=e.step.activeColor||e.stepper.activeColor||e.step.color;return v!==void 0?v:o}return o!==void 0?o:t.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),m=_(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(b.value!==void 0?` text-${b.value}`:"")+(n.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(i.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),C=_(()=>e.stepper.headerNav!==!0?!1:f.value);function x(){c.value!==null&&c.value.focus(),r.value===!1&&e.goToPanel(e.step.name)}function u(o){o.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const o={class:m.value};f.value===!0&&(o.onClick=x,o.onKeyup=u,Object.assign(o,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:s.tabindex||0}));const v=[h("div",{class:"q-focus-helper",tabindex:-1,ref:c}),h("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[h("span",{class:"row flex-center"},[i.value===!0?e.step.prefix:h(ae,{name:p.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const P=[h("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&P.push(h("div",{class:"q-stepper__caption"},e.step.caption)),v.push(h("div",{class:"q-stepper__label q-stepper__line relative-position"},P))}return xe(h("div",o,v),[[ke,C.value]])}}});function Ge(e){const s=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,c)=>{const r=parseFloat(a);r&&(s[c]=r)}),s}var Xe=qe({name:"touch-swipe",beforeMount(e,{value:s,arg:a,modifiers:c}){if(c.mouse!==!0&&I.has.touch!==!0)return;const r=c.mouseCapture===!0?"Capture":"",t={handler:s,sensitivity:Ge(a),direction:se(c),noop:Ae,mouseStart(n){ne(n,t)&&Re(n)&&(E(t,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(n,!0))},touchStart(n){if(ne(n,t)){const l=n.target;E(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),t.start(n)}},start(n,l){I.is.firefox===!0&&W(e,!0);const f=te(n);t.event={x:f.left,y:f.top,time:Date.now(),mouse:l===!0,dir:!1}},move(n){if(t.event===void 0)return;if(t.event.dir!==!1){j(n);return}const l=Date.now()-t.event.time;if(l===0)return;const f=te(n),i=f.left-t.event.x,p=Math.abs(i),b=f.top-t.event.y,m=Math.abs(b);if(t.event.mouse!==!0){if(p<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(n);return}}else if(window.getSelection().toString()!==""){t.end(n);return}else if(p<t.sensitivity[2]&&m<t.sensitivity[2])return;const C=p/l,x=m/l;t.direction.vertical===!0&&p<m&&p<100&&x>t.sensitivity[0]&&(t.event.dir=b<0?"up":"down"),t.direction.horizontal===!0&&p>m&&m<100&&C>t.sensitivity[0]&&(t.event.dir=i<0?"left":"right"),t.direction.up===!0&&p<m&&b<0&&p<100&&x>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&p<m&&b>0&&p<100&&x>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&p>m&&i<0&&m<100&&C>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&p>m&&i>0&&m<100&&C>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(j(n),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),We(),t.styleCleanup=u=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const o=()=>{document.body.classList.remove("no-pointer-events--children")};u===!0?setTimeout(o,50):o()}),t.handler({evt:n,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:l,distance:{x:p,y:m}})):t.end(n)},end(n){t.event!==void 0&&(z(t,"temp"),I.is.firefox===!0&&W(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),n!==void 0&&t.event.dir!==!1&&j(n),t.event=void 0)}};if(e.__qtouchswipe=t,c.mouse===!0){const n=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";E(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}I.has.touch===!0&&E(t,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,s){const a=e.__qtouchswipe;a!==void 0&&(s.oldValue!==s.value&&(typeof s.value!="function"&&a.end(),a.handler=s.value),a.direction=se(s.modifiers))},beforeUnmount(e){const s=e.__qtouchswipe;s!==void 0&&(z(s,"main"),z(s,"temp"),I.is.firefox===!0&&W(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(),delete e.__qtouchswipe)}});const Je={name:{required:!0},disable:Boolean},re={setup(e,{slots:s}){return()=>h("div",{class:"q-panel scroll",role:"tabpanel"},T(s.default))}},Ze={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},et=["update:modelValue","beforeTransition","transition"];function tt(){const{props:e,emit:s,proxy:a}=U(),{getCacheWithFn:c}=ve();let r,t;const n=K(null),l=K(null);function f(d){const S=e.vertical===!0?"up":"left";Q((a.$q.lang.rtl===!0?-1:1)*(d.direction===S?1:-1))}const i=_(()=>[[Xe,f,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),b=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),x=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),u=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Te(()=>e.modelValue,(d,S)=>{const A=N(d)===!0?M(d):-1;t!==!0&&X(A===-1?0:A<M(S)?-1:1),n.value!==A&&(n.value=A,s("beforeTransition",d,S),Qe(()=>{s("transition",d,S)}))});function o(){Q(1)}function v(){Q(-1)}function P(d){s("update:modelValue",d)}function N(d){return d!=null&&d!==""}function M(d){return r.findIndex(S=>S.props.name===d&&S.props.disable!==""&&S.props.disable!==!0)}function he(){return r.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function X(d){const S=d!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(d===-1?p.value:b.value):null;l.value!==S&&(l.value=S)}function Q(d,S=n.value){let A=S+d;for(;A>-1&&A<r.length;){const L=r[A];if(L!==void 0&&L.props.disable!==""&&L.props.disable!==!0){X(d),t=!0,s("update:modelValue",L.props.name),setTimeout(()=>{t=!1});return}A+=d}e.infinite===!0&&r.length!==0&&S!==-1&&S!==r.length&&Q(d,d===-1?r.length:-1)}function J(){const d=M(e.modelValue);return n.value!==d&&(n.value=d),!0}function Z(){const d=N(e.modelValue)===!0&&J()&&r[n.value];return e.keepAlive===!0?[h(ue,x.value,[h(u.value===!0?c(C.value,()=>({...re,name:C.value})):re,{key:C.value,style:m.value},()=>d)])]:[h("div",{class:"q-panel scroll",style:m.value,key:C.value,role:"tabpanel"},[d])]}function ge(){if(r.length!==0)return e.animated===!0?[h(ie,{name:l.value},Z)]:Z()}function _e(d){return r=Ie(T(d.default,[])).filter(S=>S.props!==null&&S.props.slot===void 0&&N(S.props.name)===!0),r.length}function be(){return r}return Object.assign(a,{next:o,previous:v,goTo:P}),{panelIndex:n,panelDirectives:i,updatePanelsList:_e,updatePanelIndex:J,getPanelContent:ge,getEnabledPanels:he,getPanels:be,isValidPanelName:N,keepAliveProps:x,needsUniqueKeepAliveWrapper:u,goToPanelByOffset:Q,goToPanel:P,nextPanel:o,previousPanel:v}}function me(e){return h("div",{class:"q-stepper__step-content"},[h("div",{class:"q-stepper__step-inner"},T(e.default))])}const oe={setup(e,{slots:s}){return()=>me(s)}};var le=B({name:"QStep",props:{...Je,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:s,emit:a}){const{proxy:{$q:c}}=U(),r=Ve(ce,H);if(r===H)return console.error("QStep needs to be a child of QStepper"),H;const{getCacheWithFn:t}=ve(),n=K(null),l=_(()=>r.value.modelValue===e.name),f=_(()=>c.platform.is.ios!==!0&&c.platform.is.chrome===!0||l.value!==!0||r.value.vertical!==!0?{}:{onScroll(b){const{target:m}=b;m.scrollTop>0&&(m.scrollTop=0),e.onScroll!==void 0&&a("scroll",b)}}),i=_(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function p(){const b=r.value.vertical;return b===!0&&r.value.keepAlive===!0?h(ue,r.value.keepAliveProps.value,l.value===!0?[h(r.value.needsUniqueKeepAliveWrapper.value===!0?t(i.value,()=>({...oe,name:i.value})):oe,{key:i.value},s.default)]:void 0):b!==!0||l.value===!0?me(s):void 0}return()=>h("div",{ref:n,class:"q-stepper__step",role:"tabpanel",...f.value},r.value.vertical===!0?[h(fe,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?h(Ye,p):p()]:[p()])}}),st=B({name:"QStepperNavigation",setup(e,{slots:s}){return()=>h("div",{class:"q-stepper__nav"},T(s.default))}});const nt=/(-\w)/g;function rt(e){const s={};for(const a in e){const c=a.replace(nt,r=>r[1].toUpperCase());s[c]=e[a]}return s}var ot=B({name:"QStepper",props:{...ze,...Ze,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:et,setup(e,{slots:s}){const a=U(),c=He(e,a.proxy.$q),{updatePanelsList:r,isValidPanelName:t,updatePanelIndex:n,getPanelContent:l,getPanels:f,panelDirectives:i,goToPanel:p,keepAliveProps:b,needsUniqueKeepAliveWrapper:m}=tt();$e(ce,_(()=>({goToPanel:p,keepAliveProps:b,needsUniqueKeepAliveWrapper:m,...e})));const C=_(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(c.value===!0?" q-stepper--dark q-dark":"")),x=_(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function u(){const o=T(s.message,[]);if(e.vertical===!0){t(e.modelValue)&&n();const v=h("div",{class:"q-stepper__content"},T(s.default));return o===void 0?[v]:o.concat(v)}return[h("div",{class:x.value},f().map(v=>{const P=rt(v.props);return h(fe,{key:P.name,stepper:e,step:P,goToPanel:p})})),o,De("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>i.value)]}return()=>(r(s),h("div",{class:C.value},Be(s.navigation,u())))}});const lt={props:["reviewers"],name:"AssignReviewers",data(){return{step:1,selectedReviewers:[]}},methods:{next(){this.step==2?this.$emit("reviewers-selected",this.selectedReviewers):this.$refs.stepper.next()},selectReviewer(e){this.selectedReviewers.includes(e)?this.selectedReviewers=this.selectedReviewers.filter(s=>s!=e):this.selectedReviewers.push(e)}}},it={style:{height:"500px"}},at=["checked"];function ut(e,s,a,c,r,t){return k(),R("div",it,[y(ot,{modelValue:r.step,"onUpdate:modelValue":s[1]||(s[1]=n=>r.step=n),ref:"stepper",color:"primary",animated:""},{navigation:w(()=>[y(st,{align:"right"},{default:w(()=>[r.step>1?(k(),G(V,{key:0,flat:"",color:"primary",onClick:s[0]||(s[0]=n=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):pe("",!0),y(V,{onClick:t.next,disabled:r.selectedReviewers.length==0,color:"primary",label:r.step===2?"Finish":"Continue"},null,8,["onClick","disabled","label"])]),_:1})]),default:w(()=>[y(le,{name:1,title:"Select Reviewers",icon:"settings",done:r.step>1},{default:w(()=>[y(Me,{bordered:"",class:"",style:{width:"500px","max-height":"280px","overflow-y":"auto"}},{default:w(()=>[(k(!0),R($,null,F(a.reviewers,n=>(k(),G(Ke,{onClick:l=>t.selectReviewer(n.id),clickable:"",active:r.selectedReviewers.includes(n.id),key:n.id},{default:w(()=>[g("input",{class:"q-ma-sm",type:"checkbox",checked:r.selectedReviewers.includes(n.id)},null,8,at),y(Ue,null,{default:w(()=>[O(q(n.first_name)+" "+q(n.last_name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1},8,["done"]),y(le,{name:2,title:"Invite Reviewers",icon:"create_new_folder",done:r.step>2},{default:w(()=>[g("p",null,[y(ae,{name:"info",size:"md"}),O(" An email invitation will be sent to each of the selected reviewers ")]),y(je,{class:"my-card",style:{width:"500px",height:"250px","overflow-y":"auto"},flat:"",bordered:""},{default:w(()=>[g("ul",null,[(k(!0),R($,null,F(a.reviewers.filter(n=>r.selectedReviewers.includes(n.id)),n=>(k(),R("li",{key:n.id},[O(q(n.first_name)+" "+q(n.last_name)+" ("+q(n.email)+") ",1),g("ul",null,[(k(!0),R($,null,F(n.profile.themes,l=>(k(),R("li",{key:l.id},q(l.theme_title),1))),128))])]))),128))])]),_:1})]),_:1},8,["done"])]),_:1},8,["modelValue"])])}var ct=de(lt,[["render",ut]]);const dt={components:{AssignReviewers2:ct,ReviewedProposals:Oe},name:"ReviewerList",data(){return{show:!1,formData:{theme:null,exclude__status:"EDITING",call:this.$dataStore.currentCall.id},proposals:[],themes:[],selectedProposals:[],selectedProposal:null,allSelected:!1}},created(){this.getProposals(),this.getThemes(),this.getReviewers()},methods:{getProposals(){var e=this.$buildURLQuery(this.formData);this.$api.get(`proposals/?${e}`).then(s=>{this.proposals=s.data,this.getProposalScores()})},getThemes(){this.$api.get("themes/").then(e=>{this.themes=e.data})},getReviewers(){var e=this.$buildURLQuery({themes__in:this.formData.theme});this.$api.get(`users/?${e}&groups__name__in=reviewer`).then(s=>{this.reviewers=s.data})},getProposalScores(){for(let e=0;e<this.proposals.length;e++){const s=this.proposals[e];this.$api.get(`scores/?proposal=${s.id}`).then(a=>{this.proposals[e].scores=a.data})}},createScores(e){this.$utilsStore.setLoading(!0);const s=e.length*this.selectedProposals.length;let a=0;for(let c=0;c<e.length;c++){const r=e[c],t=this.reviewers.find(n=>n.id==r).email;for(let n=0;n<this.selectedProposals.length;n++){const l=this.selectedProposals[n];this.$api.post("scores/",{proposal:l,email:t,user:r}).then(f=>{a+=1,f.status==201&&console.log("done >> "+r+", "+l),a==s&&(this.$utilsStore.setLoading(!1),this.getProposalScores())}).catch(f=>{a+=1,a==s&&(this.$utilsStore.setLoading(!1),this.getProposalScores())})}}},deleteScore(e){confirm("Are you sure you would like to delete this reviewer?")&&(this.$utilsStore.setLoading(!0),this.$api.delete(`scores/${e}/`).then(s=>{s.status==204&&(this.getProposalScores(),this.$utilsStore.setLoading(!1))}))},selectProposal(e){this.selectedProposals.includes(e)?this.selectedProposals=this.selectedProposals.filter(s=>s!=e):this.selectedProposals.push(e),this.selectedProposals.length==this.proposals.length&&(this.allSelected=!0)},selectProposal2(e){this.selectAllProposals=[],this.selectedProposals.push(e),this.selectedProposal=e,this.show=!0},selectAllProposals(e){e.target.checked?this.selectedProposals=this.proposals.map(s=>s.id):this.selectedProposals=[]}}},D=e=>(Ne("data-v-5444ff04"),e=e(),Le(),e),pt={class:"q-ma-md"},vt={align:"right",class:"q-ma-sm row"},ft={class:"col"},mt={class:"col"},ht={align:"left"},gt=["checked"],_t=D(()=>g("th",{align:"left"},"Title",-1)),bt=D(()=>g("th",{align:"left"},"Date Submitted",-1)),yt=D(()=>g("th",{align:"left"},"PI",-1)),St=D(()=>g("th",{align:"left"},"Status",-1)),Pt=D(()=>g("th",{align:"left"},null,-1)),wt={key:0},Ct=["checked","onClick"];function xt(e,s,a,c,r,t){const n=Y("AssignReviewers2"),l=Y("router-link"),f=Y("ReviewedProposals");return k(),G(Fe,null,{default:w(()=>[g("div",pt,[y(ye,null,{default:w(()=>[y(ee,{icon:"home",to:"/",label:"Home"}),y(ee,{label:"Submitted Proposals",icon:"list"})]),_:1})]),y(Se,{spaced:""}),g("div",vt,[g("div",ft,[y(Pe,{modelValue:r.formData.theme,"onUpdate:modelValue":[s[0]||(s[0]=i=>r.formData.theme=i),s[1]||(s[1]=i=>{t.getProposals(),t.getReviewers()})],dense:"",outlined:"",options:[{id:null,title:"All"}].concat(r.themes),label:"Select Theme","option-value":"id","option-label":"title","map-options":"","emit-value":""},null,8,["modelValue","options"])]),g("div",mt,[y(V,{color:"primary",label:"Assign Reviewers",disabled:r.selectedProposals.length==0},{default:w(()=>[y(we,{modelValue:r.show,"onUpdate:modelValue":s[3]||(s[3]=i=>r.show=i),breakpoint:1e3},{default:w(()=>[y(n,{reviewers:e.reviewers,onReviewersSelected:s[2]||(s[2]=i=>{t.createScores(i),r.show=!1})},null,8,["reviewers"])]),_:1},8,["modelValue"])]),_:1},8,["disabled"])])]),y(Ee,{class:"q-ma-sm",flat:"",bordered:""},{default:w(()=>[g("thead",null,[g("tr",null,[g("th",ht,[g("input",{checked:r.allSelected,type:"checkbox",onClick:s[4]||(s[4]=i=>t.selectAllProposals(i))},null,8,gt)]),_t,bt,yt,St,Pt])]),g("tbody",null,[(k(!0),R($,null,F(r.proposals,i=>{var p;return k(),R($,{key:i.id},[((p=i==null?void 0:i.scores)==null?void 0:p.length)==0?(k(),R("tr",wt,[g("td",null,[g("input",{checked:r.selectedProposals.includes(i.id),type:"checkbox",onClick:b=>t.selectProposal(i.id)},null,8,Ct)]),g("td",null,q(i.title),1),g("td",null,q(i.submission_date),1),g("td",null,q(i.user__first_name)+" "+q(i.user__last_name),1),g("td",null,q(i.status),1),g("td",null,[y(l,{to:`/proposals/${i.id}`},{default:w(()=>[y(V,{label:"View",flat:"",color:"primary"})]),_:2},1032,["to"]),y(V,{onClick:b=>t.selectProposal2(i.id),label:"Reviewers",flat:"",color:"primary"},null,8,["onClick"])])])):pe("",!0)],64)}),128))])]),_:1}),y(f)]),_:1})}var ss=de(dt,[["render",xt],["__scopeId","data-v-5444ff04"]]);export{ss as default};
