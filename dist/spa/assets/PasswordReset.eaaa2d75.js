import{Q as m}from"./QCardSection.51eb55e6.js";import{Q as _}from"./QInput.04be3f9c.js";import{_ as f,r as a,o as g,j as h,f as e,w as t,l as n,i as l}from"./index.7c80a85e.js";import{Q as b}from"./QSeparator.0d3a48de.js";import{Q}from"./QForm.14bfa66c.js";import{Q as w}from"./QCard.f67a39fc.js";import"./use-key-composition.4b81e148.js";import"./use-dark.5324e533.js";import"./use-split-attrs.e64b808b.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.fbba0995.js";const R={data(){return{loading:!1,message:"",errorResponse:{},formData:{email:""},emailRules:[s=>!!s||"Email is required",s=>/.+@.+\..+/.test(s)||"Email must be valid"]}},created(){this.setFormData()},methods:{resetPassword(){this.$utilsStore.setLoading(!0),this.$api.post("accounts/reset-password/",this.formData).then(s=>{this.$utilsStore.setLoading(!1),this.message=s.data.detail}).catch(s=>{this.$utilsStore.setLoading(!1),this.errorResponse=s.response})},setFormData(){this.formData={email:"samuelitwaru@gmail.com"}}}},x={align:"center"},S=l("h3",{class:"text-h6"},"Password Reset",-1),D=l("br",null,null,-1),y=l("br",null,null,-1);function v(s,o,C,P,r,u){const d=a("message-box"),p=a("error-message-modal"),c=a("router-link");return g(),h("div",x,[e(d,{message:this.message,onClose:o[0]||(o[0]=i=>this.message="")},null,8,["message"]),e(p,{errorResponse:r.errorResponse},null,8,["errorResponse"]),e(w,{class:"q-my-lg",style:{"min-width":"23rem"}},{default:t(()=>[e(m,null,{default:t(()=>[S]),_:1}),e(m,null,{default:t(()=>[e(Q,{onSubmit:u.resetPassword},{default:t(()=>[e(_,{outlined:"",dense:"",modelValue:r.formData.email,"onUpdate:modelValue":o[1]||(o[1]=i=>r.formData.email=i),label:"Email",type:"email",rules:r.emailRules,required:""},null,8,["modelValue","rules"]),e(n,{type:"submit",color:"primary",label:"Reset Password"}),D,y,e(b,{spaced:""}),e(c,{to:"/index/account/signin"},{default:t(()=>[e(n,{flat:"",color:"primary",label:"Sign in"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])}var z=f(R,[["render",v]]);export{z as default};
