import{Q as d}from"./QToolbarTitle.3cc2e02b.js";import{Q as p}from"./QMarkupTable.131caeae.js";import{_,r as h,o as r,h as o,a as i,g as a,w as u,f as m,F as f,i as g,t,s as $}from"./index.542c6195.js";import"./use-dark.3250c496.js";const v={data(){return{scores:[],reviewers:[],loading:!1,formData:{user:null,email:null,proposal:this.$route.params.proposal_id}}},created(){this.getScores(),this.getReviewers()},methods:{getScores(){this.$api.get(`scores/?proposal=${this.$route.params.proposal_id}`).then(e=>{this.scores=e.data})},getReviewers(){this.$api.get("users/?groups__name__in=reviewer").then(e=>{this.reviewers=e.data})},createScore(){this.$utilsStore.setLoading(!0),this.$api.post("scores/",this.formData).then(e=>{e.status==201&&(this.getScores(),this.$utilsStore.setLoading(!1))})},deleteScore(e){confirm("Are you sure you would like to delete this reviewer?")&&(this.$utilsStore.setLoading(!0),this.$api.delete(`scores/${e}/`).then(l=>{l.status==204&&(this.getScores(),this.$utilsStore.setLoading(!1))}))}}},w={class:"q-pa-sm"},S={class:"text-left"},x={class:"text-left"},y={key:0,align:"center",class:"q-my-lg"};function k(e,l,L,N,n,b){const c=h("proposal-score-sheets");return r(),o("div",null,[i(c),a("div",w,[i(d,null,{default:u(()=>[m("Reviewers")]),_:1}),i(p,{flat:"",bordered:""},{default:u(()=>[a("tbody",null,[(r(!0),o(f,null,g(n.scores,s=>(r(),o("tr",{key:s.id},[a("td",S,t(s.user)+" - "+t(s.user__first_name)+" "+t(s.user__last_name)+" ["+t(s.user__username)+"] ",1),a("td",x,t(s.status),1)]))),128))])]),_:1}),n.scores.length?$("",!0):(r(),o("p",y," No reviewers found "))])])}var B=_(v,[["render",k]]);export{B as default};
