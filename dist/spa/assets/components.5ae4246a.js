import{Q as A,a as V}from"./QItem.c0795fab.js";import{Q as O}from"./QCard.f9e0a707.js";import{Q as me}from"./QList.521c8a93.js";import{_ as D,r as W,o as m,e as b,w as r,f as l,g as U,h as y,i as n,R as Q,j as h,Q as j,k as N,F as I,l as k,t as _,m as Y,n as q,p as Be,q as kt,s as f,u as Ne,v as wt,x as St,y as ye,z as P,A as Ct,B as Qe,C as xt,D as ce,E as $t,G as Dt,H as Vt,I as qt,J as Pt,K as Et,L as Lt,M as Ie}from"./index.e39be684.js";import{D as Re,Q as Tt,u as Mt}from"./UserMenu.53b7eed2.js";import{Q as $}from"./QCardSection.1db827b1.js";import{Q as It}from"./QPage.987cc192.js";import{Q as ke}from"./QItemLabel.aff81a70.js";import{Q as Rt}from"./QBtnDropdown.85fcf977.js";import{C as At}from"./ClosePopup.3f3723a2.js";import{Q as M}from"./QSeparator.13d6beeb.js";import{Q as de}from"./QChip.19e4d28f.js";import{Q as se}from"./QCardActions.92136a93.js";import{Q as J}from"./QDialog.f5d6fd89.js";import{Q as K}from"./QInput.02622759.js";import{Q as ae}from"./QSelect.988be1bd.js";import{Q as Se}from"./QForm.bfc6ae96.js";import Ut from"./ChangePassword.f27a6053.js";import{g as Ot}from"./api.f52607fc.js";import{Q as Ft}from"./QUploader.cf856800.js";import{Q as pe}from"./QMarkupTable.c371dead.js";import{c as je}from"./index.5ce110aa.js";import{Q as Bt}from"./QEditor.524f73b9.js";import{u as Nt,a as Qt,b as jt}from"./use-form.dc1a9363.js";import{T as Wt}from"./TouchPan.6abfb632.js";import{u as zt,a as Gt}from"./use-dark.54601180.js";import{b as oe}from"./format.2bc25e5f.js";import{Q as we}from"./QRadio.1279b3ae.js";import{p as Ht}from"./ProposalScoreSheets.10397e70.js";import{Q as Kt}from"./QSpinnerIos.7c6b3456.js";import"./QBtnGroup.223e6e8a.js";import"./QMenu.fcff140d.js";import"./use-timeout.65a9f0b9.js";import"./focus-manager.b507780d.js";import"./use-transition.c0c5474a.js";import"./scroll.eaa460d0.js";import"./uid.42677368.js";import"./use-prevent-scroll.92142e4c.js";import"./use-key-composition.de72c202.js";import"./use-split-attrs.ff5e55ff.js";import"./axios.c31a4c00.js";import"./QCircularProgress.97b714c3.js";import"./use-file.2de82242.js";import"./touch.3df10340.js";import"./option-sizes.3608ba5a.js";import"./QToolbarTitle.bd27c268.js";import"./QPopupProxy.768ca227.js";const Yt={},Jt=n("h2",{class:"text-h6 q-px-md"},"Developer Menu",-1);function Xt(e,o,s,d,t,i){const a=W("router-link");return m(),b(me,{bordered:"",separator:""},{default:r(()=>[Jt,l(O,null,{default:r(()=>[l(a,{to:"/account/signup"},{default:r(()=>[U((m(),b(A,null,{default:r(()=>[l(V,{class:"q-pl-md q-pa-sm text-primary"},{default:r(()=>[y("Signup")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account/signin"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{class:"q-pl-md q-pa-sm text-primary"},{default:r(()=>[y("Signin")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account/password-reset"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{class:"q-pl-md q-pa-sm text-primary"},{default:r(()=>[y("Forgort Password")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{class:"q-pl-md q-pa-sm text-primary"},{default:r(()=>[y("Account details")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/grant/create"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{class:"q-pl-md q-pa-sm text-primary"},{default:r(()=>[y("New Grant Application")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/proposals/create"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{class:"q-pl-md q-pa-sm text-primary"},{default:r(()=>[y("Proposal")]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1})]),_:1})}var Zt=D(Yt,[["render",Xt]]);const eo={},to=n("h2",{class:"text-h6 q-px-md"},"Developer Menu",-1),oo={class:"row q-ma-xs"},lo={class:"col"},ao={class:"col q-my-auto",align:"center"},so={class:"flex q-pa-sm"};function ro(e,o,s,d,t,i){const a=W("router-link"),c=W("create-proposal-dialog"),p=W("user-logout");return m(),h("div",null,[to,n("div",oo,[n("div",lo,[l(me,null,{default:r(()=>[l(a,{to:"/account/signup"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{avatar:""},{default:r(()=>[l(j,{color:"primary",name:"arrow_forward"})]),_:1}),l(V,null,{default:r(()=>[y("Signup")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account/signin"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{avatar:""},{default:r(()=>[l(j,{color:"primary",name:"arrow_forward"})]),_:1}),l(V,null,{default:r(()=>[y("Sign in")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account/password-reset"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{avatar:""},{default:r(()=>[l(j,{color:"primary",name:"arrow_forward"})]),_:1}),l(V,null,{default:r(()=>[y("Forgot Password")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account/profile"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{avatar:""},{default:r(()=>[l(j,{color:"primary",name:"arrow_forward"})]),_:1}),l(V,null,{default:r(()=>[y("Profile")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/account/password"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{avatar:""},{default:r(()=>[l(j,{color:"primary",name:"arrow_forward"})]),_:1}),l(V,null,{default:r(()=>[y("Change Password")]),_:1})]),_:1})),[[Q]])]),_:1}),l(a,{to:"/proposals"},{default:r(()=>[U((m(),b(A,{clickable:""},{default:r(()=>[l(V,{avatar:""},{default:r(()=>[l(j,{color:"primary",name:"arrow_forward"})]),_:1}),l(V,null,{default:r(()=>[y("Proposals")]),_:1})]),_:1})),[[Q]])]),_:1})]),_:1})]),n("div",ao,[l(c)])]),n("div",so,[l(p)])])}var no=D(eo,[["render",ro]]);const io={data(){return{}},computed:{menuItems(){return this.$userHasAnyGroups(["applicant"])?[{name:"My Proposals",icon:"note",route:"/applicant/proposals"},{name:"Profile",icon:"person",route:"/account/profile"}]:this.$userHasAnyGroups(["reviewer"])?[{name:"Reviews",icon:"note",route:"/proposal-reviews"},{name:"Profile",icon:"person",route:"/account/profile"}]:this.$userHasAnyGroups(["grants_officer"])?[{name:"All Proposals",icon:"note",route:"/proposals"},{name:"Profile",icon:"person",route:"/account/profile"}]:[]}},created(){},methods:{navigateTo(e){this.$router.push(e)}}},uo={class:"flex justify-cente"},co={class:"q-pl-sm"};function mo(e,o,s,d,t,i){const a=W("router-link");return m(),b(O,{class:"my-card q-pa-sm",flat:"",bordered:""},{default:r(()=>[n("div",uo,[(m(!0),h(I,null,N(i.menuItems,c=>(m(),h("div",{key:c,class:"q-m-sm text-center"},[l(a,{to:c.route},{default:r(()=>[l(k,{color:"primary",flat:"",outline:""},{default:r(()=>[l(j,{name:c.icon},null,8,["name"]),n("label",co,_(c.name.toUpperCase()),1)]),_:2},1024)]),_:2},1032,["to"])]))),128))])]),_:1})}var po=D(io,[["render",mo]]);const fo={class:"q-pt-xl flex flex-center"},ho={class:"q-py-lg flex flex-center"},_o={class:"text-h6"},vo=Object.assign({name:"MainPage",components:{DropdownCallMenu:Re},data(){return{showPopup:!1,menuItems:Y([{name:"PROPOSALS",display_name:"ALL PROPOSALS",route:"/go/proposals/submitted",icon:"description",color:"orange",roles:["grants_officer"],count:0,click:()=>{this.$utilsStore.setStateData("ProposalList_status_query","SUBMITTED")}},{name:"REVIEWED",display_name:"REVIEWED",route:"/go/proposals/reviewed",icon:"search",color:"secondary",roles:["grants_officer"],click:()=>{this.$utilsStore.setStateData("ProposalList_status_query","REVIEWED")}},{name:"SELECTED",display_name:"SELECTED",route:"/go/proposals/selected",icon:"check_circle_outline",color:"pink",roles:["grants_officer"],click:()=>{this.$utilsStore.setStateData("ProposalList_status_query","SELECTED")}},{name:"CALLS",display_name:"CALLS",route:"/calls",icon:"campaign",color:"blue",roles:["grants_officer"],count:0},{name:"THEMES",display_name:"THEMES",route:"/themes",icon:"apps",color:"indigo",roles:["grants_officer"]},{name:"REVIEWERS",display_name:"REVIEWERS",route:"/reviewers",icon:"school",color:"green",roles:["grants_officer"]},{name:"APPLICANTS",display_name:"APPLICANTS",route:"/applicants",icon:"people",color:"purple",roles:["grants_officer"]},{name:"MY PROPOSALS",display_name:"MY PROPOSALS",route:"/applicant/proposals",icon:"description",color:"indigo",roles:["applicant"]},{name:"APPLY",display_name:"APPLY",route:"",icon:"app_registration",color:"red",roles:["applicant"],click:()=>{this.showPopup=!0}},{name:"PROPOSAL REVIEWS",display_name:"PROPOSAL REVIEWS",route:"/proposal-reviews",icon:"reviews",color:"green",roles:["reviewer"]}]),counts:{SELECTED:0,PROPOSALS:0}}},created(){this.getCalls()},methods:{getCalls(){this.$api.get("calls/").then(e=>{if(this.calls=e.data,this.calls.length){var o=this.calls[0];this.setCurrentCall(this.$dataStore.currentCall||o),this.getCounts()}else this.setCurrentCall({title:"No Call Found"})})},setCurrentCall(e){this.currentCall=e,this.$dataStore.setCall(this.currentCall)},getCounts(){this.$api.get(`proposals/count/?call=${this.$dataStore.currentCall.id}&is_selected=true`).then(e=>{(e.status=200)&&(this.counts.SELECTED=e.data.count)}),this.$api.get(`proposals/count/?call=${this.$dataStore.currentCall.id}&status=SUBMITTED`).then(e=>{(e.status=200)&&(this.counts.PROPOSALS=e.data.count)}),this.$api.get(`proposals/count/?call=${this.$dataStore.currentCall.id}&status=REVIEWED`).then(e=>{(e.status=200)&&(this.counts.REVIEWED=e.data.count)})}}},{__name:"MainMenu",setup(e){return(o,s)=>{const d=W("create-proposal-dialog"),t=W("router-link"),i=W("useful-docs");return m(),b(It,null,{default:r(()=>[l(d,{showButton:!1,showPopup:o.showPopup,onShowPopupChanged:s[0]||(s[0]=a=>this.showPopup=a)},null,8,["showPopup"]),n("div",fo,[o.$userHasAnyGroups(["grants_officer"])?(m(),b(Re,{key:0})):q("",!0)]),n("div",ho,[(m(!0),h(I,null,N(o.menuItems,a=>(m(),b(t,{key:a.name,to:a.route,onClick:a.click},{default:r(()=>[o.$userHasAnyGroups(a.roles)||a.roles.length==0?(m(),b(k,{key:0,outlined:"",class:Be(`text-center q-pa-md q-ma-sm text-${a.color}`),style:{width:"10rem",height:"10rem"}},{default:r(()=>[o.counts[a.name]?(m(),b(Tt,{key:0,style:{position:"absolute",top:"4px",right:"4px"},label:o.counts[a.name]},null,8,["label"])):q("",!0),l(j,{name:a.icon,size:"xl"},null,8,["name"]),l($,null,{default:r(()=>[n("div",_o,_(a.display_name),1)]),_:2},1024)]),_:2},1032,["class"])):q("",!0)]),_:2},1032,["to","onClick"]))),128))]),l(i)]),_:1})}}}),go={data(){return{}},computed:{menuItems(){return this.$userHasAnyGroups(["applicant"])?[{name:"REVIEWS",icon:"list",route:`/applicant/proposals/${this.$proposalStore.currentProposal.id}/reviews`},{name:"TEAM",icon:"people",route:`/applicant/proposals/${this.$proposalStore.currentProposal.id}/team`},{name:"REPORTS",icon:"book",route:`/applicant/proposals/${this.$proposalStore.currentProposal.id}/reports`}]:this.$userHasAnyGroups(["reviewer"])?[{name:"REVIEWS",icon:"list",route:`/proposal-reviews/${this.$proposalStore.currentProposal.id}/reviews`},{name:"TEAM",icon:"people",route:`/proposal-reviews/${this.$proposalStore.currentProposal.id}/team`}]:this.$userHasAnyGroups(["grants_officer"])?[{name:"REVIEWS",icon:"list",route:`/proposals/${this.$proposalStore.currentProposal.id}/reviewers`},{name:"TEAM",icon:"people",route:`/proposals/${this.$proposalStore.currentProposal.id}/team`}]:[]}},methods:{navigateTo(e){this.$router.push(e)}}};function bo(e,o,s,d,t,i){const a=W("router-link");return m(),h("div",null,[l(Rt,{flat:"",dense:"","dropdown-icon":"more_vert"},{default:r(()=>[l(me,{class:"q-py-sm"},{default:r(()=>[(m(!0),h(I,null,N(i.menuItems,c=>(m(),b(a,{key:c,to:c.route},{default:r(()=>[U((m(),b(A,{dense:"",clickable:""},{default:r(()=>[l(V,null,{default:r(()=>[l(ke,null,{default:r(()=>[l(j,{name:c.icon},null,8,["name"]),y(" "+_(c.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[At]])]),_:2},1032,["to"]))),128))]),_:1})]),_:1})])}var yo=D(go,[["render",bo]]);const ko={data(){return{files:[{name:"MUNIRIF_PROPOSAL_GUIDELINES_Round_2",url:"https://munirif.pythonanywhere.com/media/MUNIRIF_PROPOSAL_GUIDELINES_Round_2.pdf"},{name:"MUNIRIF_Round_Two_Call_Final",url:"https://munirif.pythonanywhere.com/media/MUNIRIF_Round_Two_Call_Final.pdf"}]}},methods:{openFile(e){window.open(e)}}},wo=n("div",{class:"text-h6"},"Useful Documents",-1);function So(e,o,s,d,t,i){return m(),h("div",null,[l(O,{class:"my-card q-ma-sm",flat:"",bordered:""},{default:r(()=>[l($,null,{default:r(()=>[wo]),_:1}),l(M),l(se,{vertical:""},{default:r(()=>[(m(!0),h(I,null,N(t.files,a=>(m(),b(de,{color:"secondary",key:a.id,class:"glossy",icon:"note",label:a.name,clickable:"",onClick:c=>i.openFile(a.url)},null,8,["label","onClick"]))),128))]),_:1})]),_:1})])}var Co=D(ko,[["render",So]]);const xo={data(){return{messages:["Creating new ideas...","Transforming Lives..."],currentMessageIndex:0,currentText:"",currentIndex:0,showCursor:!0}},mounted(){this.typeText()},methods:{typeText(){this.currentIndex<this.messages[this.currentMessageIndex].length?(this.currentText+=this.messages[this.currentMessageIndex][this.currentIndex],this.currentIndex++,setTimeout(this.typeText,100)):setTimeout(this.deleteText,1e3)},deleteText(){this.currentIndex>0?(this.currentText=this.currentText.slice(0,-1),this.currentIndex--,setTimeout(this.deleteText,50)):(this.currentMessageIndex=(this.currentMessageIndex+1)%this.messages.length,setTimeout(this.typeText,1e3))}}},$o={align:"center",class:"text-h5"},Do={key:0,class:"cursor"};function Vo(e,o,s,d,t,i){return m(),h("div",null,[n("p",$o,[n("span",null,_(t.currentText),1),t.showCursor?(m(),h("span",Do,"|")):q("",!0)])])}var qo=D(xo,[["render",Vo]]);const Po={data(){return{loading:!1,showDialog:!1}},methods:{showConfirmationDialog(){this.showDialog=!0},cancelLogout(){this.showDialog=!1},confirmLogout(){this.$utilsStore.setLoading(!0),this.$api.get("/accounts/logout/").then(e=>{this.$router.push("/index/account/signin"),this.$authStore.clearUserAndToken(),this.$utilsStore.setLoading(!1),this.cancelLogout()})}}},Eo={key:0},Lo=n("span",{class:"q-body1"},"Are you sure you want to log out?",-1);function To(e,o,s,d,t,i){return e.$authStore.isLoggedIn?(m(),h("div",Eo,[l(k,{onClick:i.showConfirmationDialog,dense:"",flat:"",color:"primary"},{default:r(()=>[y("Logout")]),_:1},8,["onClick"]),l(J,{modelValue:t.showDialog,"onUpdate:modelValue":o[0]||(o[0]=a=>t.showDialog=a)},{default:r(()=>[l(O,null,{default:r(()=>[l($,{class:"q-pa-md"},{default:r(()=>[Lo]),_:1}),l(se,{align:"right"},{default:r(()=>[l(k,{dense:"",flat:"",onClick:i.cancelLogout,color:"primary"},{default:r(()=>[y("Cancel")]),_:1},8,["onClick"]),l(k,{onClick:i.confirmLogout,color:"primary",class:"q-ml-md"},{default:r(()=>[y("Logout")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):q("",!0)}var Mo=D(Po,[["render",To]]);const Io={data(){return{user:this.$authStore.currentUser,loading:!1,faculties:[],departments:[],qualifications:[],formData:{email:"",first_name:"",last_name:"",phone:"",gender:"",faculty:null,department:null,qualification:null,password:"",confirm_password:""},emailRules:[e=>!!e||"Email is required",e=>/.+@.+\..+/.test(e)||"Email must be valid"],nameRules:[e=>!!e||"Field is required"],phoneRules:[e=>!!e||"Telephone number is required",e=>/^[0-9]{10}$/.test(e)||"Telephone number must be 10 digits"],passwordRules:[e=>!!e||"Password is required",e=>e.length>=8||"Password must be at least 8 characters long"],confirmPasswordRules:[e=>!!e||"Confirm Password is required",e=>e===this.formData.password||"Passwords do not match"],errorResponse:{}}},created(){this.setFormData(),this.getFaculties(),this.getQualifications()},methods:{updateUserProfile(){this.$utilsStore.setLoading(!0),this.formData.username=this.formData.email,this.formData.token=this.$authStore.token,this.$api.post("accounts/update-user/",this.formData).then(e=>{const o=e.data.token,s=e.data.user;this.$authStore.setUserAndToken(s,o),this.$utilsStore.setLoading(!1)}).catch(e=>{this.$utilsStore.setLoading(!1),this.errorResponse=e.response})},getFaculties(){this.$api.get("faculties/").then(e=>{this.faculties=e.data})},getQualifications(){this.$api.get("qualifications/").then(e=>{this.qualifications=e.data})},setFormData(){var e,o,s,d,t,i,a,c;this.formData={email:this.user.email,first_name:this.user.first_name,last_name:this.user.last_name,phone:(e=this.user.profile)==null?void 0:e.phone,faculty:(s=(o=this.user.profile)==null?void 0:o.faculty)==null?void 0:s.id,department:(t=(d=this.user.profile)==null?void 0:d.department)==null?void 0:t.id,qualification:(a=(i=this.user.profile)==null?void 0:i.qualification)==null?void 0:a.id,designation:(c=this.user.profile)==null?void 0:c.designation}}}},Ro={align:"center"},Ao=n("h4",{class:"text-h6 q-my-sm"},"Update Profile",-1),Uo={class:"row q-col-gutter-xs"},Oo={class:"col"},Fo={class:"col"},Bo={class:"row q-col-gutter-xs"},No={class:"col"},Qo={class:"col"},jo={class:"row q-col-gutter-xs q-my-sm"},Wo={class:"col"},zo={class:"col"},Go={class:"row q-col-gutter-xs"},Ho={class:"col"},Ko={class:"col"},Yo={class:"flex flex-center"};function Jo(e,o,s,d,t,i){return m(),h("div",Ro,[Ao,l(O,{class:"q-ma-sm q-pa-md",style:{"min-width":"20rem"}},{default:r(()=>[l(Se,{onSubmit:i.updateUserProfile},{default:r(()=>{var a;return[n("div",Uo,[n("div",Oo,[l(K,{outlined:"",dense:"",modelValue:t.formData.first_name,"onUpdate:modelValue":o[0]||(o[0]=c=>t.formData.first_name=c),label:"First Name",rules:t.nameRules,required:""},null,8,["modelValue","rules"])]),n("div",Fo,[l(K,{outlined:"",dense:"",modelValue:t.formData.last_name,"onUpdate:modelValue":o[1]||(o[1]=c=>t.formData.last_name=c),label:"Last Name",rules:t.nameRules,required:""},null,8,["modelValue","rules"])])]),n("div",Bo,[n("div",No,[l(K,{outlined:"",dense:"",modelValue:t.formData.email,"onUpdate:modelValue":o[2]||(o[2]=c=>t.formData.email=c),label:"Email",type:"email",rules:t.emailRules,required:""},null,8,["modelValue","rules"])]),n("div",Qo,[l(K,{outlined:"",dense:"",modelValue:t.formData.phone,"onUpdate:modelValue":o[3]||(o[3]=c=>t.formData.phone=c),label:"Telephone Number",type:"tel",rules:t.phoneRules,required:""},null,8,["modelValue","rules"])])]),n("div",jo,[n("div",Wo,[l(ae,{outlined:"",dense:"",modelValue:t.formData.faculty,"onUpdate:modelValue":o[4]||(o[4]=c=>t.formData.faculty=c),options:t.faculties,"option-value":"id","option-label":"name",label:"Faculty","emit-value":"","map-options":""},null,8,["modelValue","options"])]),n("div",zo,[l(ae,{outlined:"",dense:"",modelValue:t.formData.department,"onUpdate:modelValue":o[5]||(o[5]=c=>t.formData.department=c),options:(a=this.faculties.find(c=>c.id===this.formData.faculty))==null?void 0:a.departments,"option-value":"id","option-label":"name",label:"Department","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),n("div",Go,[n("div",Ho,[l(ae,{dense:"",outlined:"",modelValue:t.formData.qualification,"onUpdate:modelValue":o[6]||(o[6]=c=>t.formData.qualification=c),options:t.qualifications,label:"Qualification","option-value":"id","option-label":"name","map-options":"","emit-value":""},null,8,["modelValue","options"])]),n("div",Ko,[l(K,{outlined:"",dense:"",modelValue:t.formData.designation,"onUpdate:modelValue":o[7]||(o[7]=c=>t.formData.designation=c),label:"Your Designation",rules:t.nameRules,required:""},null,8,["modelValue","rules"])])]),n("div",Yo,[l(k,{type:"submit",color:"primary",label:"Update Profile"})])]}),_:1},8,["onSubmit"])]),_:1})])}var Xo=D(Io,[["render",Jo]]);const Zo={props:{showButton:{type:Boolean,required:!1,default:!0},showPopup:{type:Boolean,required:!1,default:!1}},data(){var e,o;return{loading:!1,showDialog:!1,themes:[],formData:{title:"",theme:null,call:(o=(e=this.$dataStore)==null?void 0:e.currentCall)==null?void 0:o.id},formErrors:{}}},created(){var e,o;Ot().then(s=>this.themes=s),this.formData.call=(o=(e=this.$dataStore)==null?void 0:e.currentCall)==null?void 0:o.id},methods:{createProposal(){console.log(this.formData),this.$utilsStore.setLoading(!0),this.formErrors={},this.formData.user=this.$authStore.currentUser.id,this.$api.post("proposals/",this.formData).then(e=>{this.$router.push(`/applicant/proposals/${e.data.id}`),this.$utilsStore.setLoading(!1),this.showDialog=!1}).catch(e=>{this.formErrors=e.response.data,this.$utilsStore.setLoading(!1)})},cancelCreate(){this.showDialog=!1},setFormData(){this.formData={title:""}}},watch:{showPopup(e,o){this.showDialog=e},showDialog(e,o){this.$emit("showPopupChanged",e)}}},el=n("div",{class:"text-h6"},"New Project Proposal",-1),tl={class:"text-red"},ol={class:"q-ma-xs"},ll=n("br",null,null,-1),al={class:"text-red"},sl={class:"q-ma-xs"};function rl(e,o,s,d,t,i){return m(),h("div",null,[s.showButton?(m(),b(k,{key:0,label:"New Proposal",color:"primary",onClick:o[0]||(o[0]=a=>t.showDialog=!0)})):q("",!0),l(Se,{onSubmit:i.createProposal,class:"q-gutter-md"},{default:r(()=>[l(J,{modelValue:t.showDialog,"onUpdate:modelValue":o[3]||(o[3]=a=>t.showDialog=a),persistent:""},{default:r(()=>[l(O,{style:{width:"500px"}},{default:r(()=>[l($,null,{default:r(()=>[el]),_:1}),l(M),l($,{class:"q-pt-lg q-pb-md"},{default:r(()=>{var a,c;return[l(K,{modelValue:t.formData.title,"onUpdate:modelValue":o[1]||(o[1]=p=>t.formData.title=p),label:"Title of your proposal",outlined:"",required:""},null,8,["modelValue"]),n("div",tl,[n("ul",ol,[(m(!0),h(I,null,N((a=t.formErrors)==null?void 0:a.title,p=>(m(),h("li",{key:p},_(p),1))),128))])]),ll,l(ae,{modelValue:t.formData.theme,"onUpdate:modelValue":o[2]||(o[2]=p=>t.formData.theme=p),options:t.themes,label:"Select Theme",outlined:"","option-value":"id","option-label":"title","map-options":"","emit-value":""},null,8,["modelValue","options"]),n("div",al,[n("ul",sl,[(m(!0),h(I,null,N((c=t.formErrors)==null?void 0:c.theme,p=>(m(),h("li",{key:p},_(p),1))),128))])])]}),_:1}),l(M,{spaced:""}),l(se,{align:"right"},{default:r(()=>[l(k,{flat:"",color:"primary",label:"Cancel",onClick:i.cancelCreate},null,8,["onClick"]),l(k,{color:"primary",label:"Create",onClick:i.createProposal},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onSubmit"])])}var nl=D(Zo,[["render",rl]]);const il={props:["attachment_id"],data(){return{acceptedFileTypes:"application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/pdf,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",modalVisible:!1,uploadUrl:`${this.$api.getUri()}/files/`,uploadHeaders:{},filesToUpload:[],uploadedFiles:[]}},methods:{onFileAdded(e){e.forEach(o=>{console.dir(o),o.type&&this.acceptedFileTypes.includes(o.type)&&(this.uploadFile(o),this.filesToUpload.push(o))})},onBrowse(e){var o=Array.from(e.target.files);this.onFileAdded(o)},uploadFile(e){const o=new FormData;o.append("file",e),o.append("name",e.name),o.append("attachment",this.attachment_id),o.append("proposal",this.$route.params.proposal_id),this.$api.post(this.uploadUrl,o,{headers:this.uploadHeaders}).then(s=>{this.uploadedFiles.push(e),this.filesToUpload=this.filesToUpload.filter(d=>d.key!=e.key),this.uploadedFiles=[],this.modalVisible=!1,this.$emit("file-uploaded")}).catch(s=>{console.log(s)})}}},ul={key:0},cl=n("div",{class:"text-h6"},"Attachments",-1),dl=n("div",{class:"text-center q-my-auto q-py-lg",style:{"background-color":"#ffffff",color:"#000000"}}," Drag and drop files here ",-1),ml={class:"text-center",style:{"background-color":"#ffffff",color:"#000000"}},pl=n("br",null,null,-1),fl=n("br",null,null,-1),hl=["accept"],_l=n("div",null,[n("label",{for:"files",class:"button-label"}," Browse ")],-1),vl=n("div",{align:"center"},[n("br"),y(" Only "),n("strong",null,"PDF, WORD, EXCEL"),y(" are accepted ")],-1);function gl(e,o,s,d,t,i){var a,c;return((a=e.$proposalStore.currentProposal)==null?void 0:a.status)=="EDITING"&&e.$authStore.currentUser.id==((c=e.$proposalStore.currentProposal)==null?void 0:c.user)?(m(),h("div",ul,[l(k,{color:"primary",icon:"attachment",label:"Add",dense:"",flat:"",onClick:o[0]||(o[0]=p=>t.modalVisible=!0)}),l(J,{modelValue:t.modalVisible,"onUpdate:modelValue":o[4]||(o[4]=p=>t.modalVisible=p)},{default:r(()=>[l(O,{style:{width:"500px"}},{default:r(()=>[l($,{class:"flex justify-between q-pa-sm text-center"},{default:r(()=>[cl,l(k,{color:"primary",icon:"close",flat:"",onClick:o[1]||(o[1]=p=>{t.uploadedFiles=[],t.modalVisible=!1})})]),_:1}),l(M,{spaced:""}),l($,{class:"q-pa-sm"},{default:r(()=>[n("div",null,[l(Ft,{url:t.uploadUrl,multiple:"",onAdded:i.onFileAdded,style:{width:"100%"},flat:""},{header:r(()=>[dl,n("div",ml,[y(" or "),pl,fl,n("input",{onChange:o[2]||(o[2]=(...p)=>i.onBrowse&&i.onBrowse(...p)),type:"file",id:"files",class:"hidden",multiple:"",accept:t.acceptedFileTypes},null,40,hl),_l])]),list:r(()=>[l(me,{separator:"",dense:""},{default:r(()=>[(m(!0),h(I,null,N(t.filesToUpload,p=>(m(),b(A,{key:p.__key},{default:r(()=>[l(V,null,{default:r(()=>[l(ke,{class:"full-width ellipsis"},{default:r(()=>[y(_(p.name),1)]),_:2},1024),l(ke,{caption:""},{default:r(()=>[y(_(p.__sizeLabel)+" "+_(p.__progressLabel),1)]),_:2},1024)]),_:2},1024),l(V,{top:"",side:""},{default:r(()=>[l(kt,{size:"20px",color:"primary"})]),_:1})]),_:2},1024))),128))]),_:1}),vl]),_:1},8,["url","onAdded"])])]),_:1}),l($,{class:"q-pa-sm"},{default:r(()=>[(m(!0),h(I,null,N(t.uploadedFiles,p=>(m(),b(de,{dense:"",key:p.__key,class:"glossy",icon:"check",label:p.name},null,8,["label"]))),128))]),_:1}),l(M,{spaced:""}),l($,{align:"right"},{default:r(()=>[l(k,{color:"primary",label:"Done",onClick:o[3]||(o[3]=p=>{t.uploadedFiles=[],t.modalVisible=!1})})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):q("",!0)}var bl=D(il,[["render",gl]]);const yl={props:{proposal:{type:Object,required:!0},disabled:{type:Boolean,required:!0}},data(){return{modalVisible:!1,sections:[]}},computed:{wordCounts(){let e={};for(let o=0;o<this.sections.length;o++){const s=this.sections[o];e[s.name]=this.countWordsInHtml(this.proposal[s.name]||"")}return e},wordCountsValid(){let e={};for(let o=0;o<this.sections.length;o++){const s=this.sections[o];if(e[s.name]>=this.sections[s.name])return!1}return!0}},created(){this.getSections()},methods:{getProposal(){this.$api.get(`/proposals/${this.$route.params.proposal_id}/`)},submitProposal(){this.$utilsStore.setLoading(!0);const e=new Date;var o={status:"SUBMITTED",submission_date:e.toJSON().split("T")[0]};this.$api.patch(`/proposals/${this.$route.params.proposal_id}/`,o).then(s=>{this.$utilsStore.setLoading(!1),location.reload()})},getSections(){this.$api.get("sections/").then(e=>{this.sections=e.data})},countWordsInHtml(e){return je.load(e)("body").text().split(/\s+/).length-1}}},kl={key:0},wl=n("thead",null,[n("tr",{class:"bg-grey-3"},[n("th",{class:"text-left"},"Section"),n("th",{class:"text-left"},"Limit"),n("th",{class:"text-left"},"Words"),n("th",{class:"text-left"})])],-1),Sl={key:0},Cl={class:"text-left"},xl={class:"text-center"},$l={class:"text-left"},Dl={class:"text-left"},Vl=n("p",{class:"q-pa-md"},"Do you wish to proceed?",-1);function ql(e,o,s,d,t,i){var c,p;const a=W("alert-msg");return((c=s.proposal)==null?void 0:c.status)=="EDITING"&&e.$authStore.currentUser.id==((p=s.proposal)==null?void 0:p.user)?(m(),h("div",kl,[l(k,{color:"primary",label:"Submit Application",disabled:s.disabled,onClick:o[0]||(o[0]=S=>t.modalVisible=!0)},null,8,["disabled"]),l(J,{modelValue:t.modalVisible,"onUpdate:modelValue":o[2]||(o[2]=S=>t.modalVisible=S)},{default:r(()=>[l(O,null,{default:r(()=>[l($),l(M),l($,null,{default:r(()=>[l(pe,{flat:"",dense:"",bordered:"",separator:"vertical"},{default:r(()=>[wl,n("tbody",null,[(m(!0),h(I,null,N(t.sections,S=>(m(),h(I,{key:S.id},[S.lower_limit==50?(m(),h("tr",Sl,[n("td",Cl,_(S.title),1),n("td",xl,_(S.lower_limit)+" - "+_(S.word_limit),1),n("td",$l,_(i.wordCounts[S.name]),1),n("td",Dl,[i.wordCounts[S.name]<=S.word_limit?(m(),b(j,{key:0,name:"check",class:"text-green"})):(m(),b(j,{key:1,class:"text-red",name:"close"}))])])):q("",!0)],64))),128))])]),_:1}),l(M,{spaced:""}),l(a,{message:"You will not be able to edit this proposal once submitted.",icon:"crisis_alert"}),Vl]),_:1}),l(M),l($,{align:"right"},{default:r(()=>[l(k,{color:"primary",flat:"",label:"Cancel",onClick:o[1]||(o[1]=S=>t.modalVisible=!1)}),l(k,{disabled:!i.wordCountsValid,color:"primary",label:"Submit",onClick:i.submitProposal},null,8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):q("",!0)}var Pl=D(yl,[["render",ql]]);const El={props:{proposal:{type:Object,required:!0},score:{required:!0}},data(){return{modalVisible:!0,loading:!1}},methods:{acceptReview(){this.$utilsStore.setLoading(!0),this.$api.patch(`/scores/${this.score.id}/`,{status:"IN PROGRESS",accepted_at:new Date(Date.UTC())}).then(e=>{location.reload()})}}},Ll={key:0},Tl=n("div",{class:"text-h6"},"Proposal Review Invitation",-1),Ml={class:"q-pa-md"},Il=n("p",{class:"q-pa-md"},[y(" Click the "),n("strong",null,"ACCEPT"),y(" button to start your review ")],-1);function Rl(e,o,s,d,t,i){var a,c;return s.score&&((a=s.score)==null?void 0:a.status)!="IN PROGRESS"&&((c=s.score)==null?void 0:c.status)!="COMPLETED"&&this.$userHasAnyGroups(["reviewer"])?(m(),h("div",Ll,[l(J,{modelValue:t.modalVisible,"onUpdate:modelValue":o[0]||(o[0]=p=>t.modalVisible=p),persistent:""},{default:r(()=>[l(O,null,{default:r(()=>[l($,null,{default:r(()=>[Tl]),_:1}),l(M),l($,null,{default:r(()=>[n("p",Ml,' You have been inivited to review this proposal on "'+_(s.proposal.title)+'". ',1),Il]),_:1}),l(M),l($,{align:"right"},{default:r(()=>[l(k,{color:"primary",label:"Accept",onClick:i.acceptReview},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):q("",!0)}var Al=D(El,[["render",Rl]]);const Ul={props:{proposal:{type:Object,required:!0},section:{type:Object,required:!0}},data(){return{loading:!1,showDialog:!1,formData:{}}},computed:{numWords(){return this.countWordsInHtml(this.formData[this.section.name]||"")}},methods:{updateSection(){this.$utilsStore.setLoading(!0),this.$api.patch(`proposals/${this.$route.params.proposal_id}/`,this.formData).then(e=>{this.$emit("proposal-updated",e.data),this.$utilsStore.setLoading(!1),this.showDialog=!1})},cancelCreate(){this.showDialog=!1},countWordsInHtml(e){return je.load(e)("body").text().split(/\s+/).length-1}},mounted(){this.formData[this.section.name]=this.proposal[this.section.name]||""},watch:{proposal(e){this.formData[this.section.name]=e[this.section.name]||""}}},Ol={key:0},Fl={key:0,class:"text-red text-caption"},Bl={class:"text-h6"},Nl={key:0,class:"text-red text-caption"},Ql={align:"right"},jl={key:0,class:"text-red text-caption"};function Wl(e,o,s,d,t,i){var a,c;return((a=s.proposal)==null?void 0:a.status)=="EDITING"&&e.$authStore.currentUser.id==((c=s.proposal)==null?void 0:c.user)?(m(),h("div",Ol,[l(k,{dense:"",flat:"",color:"primary",icon:"edit",onClick:o[0]||(o[0]=p=>t.showDialog=!0)}),i.numWords>s.section.word_limit?(m(),h("small",Fl," Exceeded word limit ("+_(i.numWords)+"/"+_(s.section.word_limit)+") ",1)):q("",!0),l(Se,{onSubmit:i.updateSection,class:"q-gutter-md"},{default:r(()=>[l(J,{modelValue:t.showDialog,"onUpdate:modelValue":o[2]||(o[2]=p=>t.showDialog=p),persistent:"","full-width":"","full-height":""},{default:r(()=>[l(O,{style:{width:"500px"}},{default:r(()=>[l($,{class:"flex justify-between"},{default:r(()=>[n("div",Bl,[y(_(s.section.title)+" ",1),n("small",null,"("+_(i.numWords)+" / "+_(s.section.word_limit)+" words)",1)]),l(k,{color:"primary",flat:"",dense:"",icon:"close",onClick:i.cancelCreate},null,8,["onClick"])]),_:1}),l(M),l($,{class:"scroll"},{default:r(()=>[i.numWords>s.section.word_limit?(m(),h("small",Nl," Exceeded word limit ("+_(i.numWords)+"/"+_(s.section.word_limit)+") ",1)):q("",!0),l(Bt,{modelValue:t.formData[s.section.name],"onUpdate:modelValue":o[1]||(o[1]=p=>t.formData[s.section.name]=p),label:"Title of your proposal",outlined:"",required:"","min-height":"65vh"},null,8,["modelValue"]),n("div",Ql,[i.numWords>s.section.word_limit?(m(),h("small",jl," Exceeded word limit ("+_(i.numWords)+"/"+_(s.section.word_limit)+") ",1)):q("",!0)])]),_:1}),l(M,{spaced:""}),l(se,{align:"right"},{default:r(()=>[l(k,{flat:"",color:"primary",label:"Cancel",onClick:i.cancelCreate},null,8,["onClick"]),l(k,{disabled:i.numWords>s.section.word_limit,color:"primary",label:"Save",onClick:i.updateSection},null,8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["onSubmit"])])):q("",!0)}var zl=D(Ul,[["render",Wl]]);const Ae="q-slider__marker-labels",Gl=e=>({value:e}),Hl=({marker:e})=>P("div",{key:e.value,style:e.style,class:e.classes},e.label),We=[34,37,40,33,39,38],Kl={...Gt,...Nt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Yl=["pan","update:modelValue","change"];function Jl({updateValue:e,updatePosition:o,getDragging:s,formAttrs:d}){const{props:t,emit:i,slots:a,proxy:{$q:c}}=Qe(),p=zt(t,c),S=Qt(d),F=Y(!1),z=Y(!1),B=Y(!1),X=Y(!1),E=f(()=>t.vertical===!0?"--v":"--h"),le=f(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),R=f(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(c.lang.rtl===!0)),G=f(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),C=f(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),v=f(()=>t.disable!==!0&&t.readonly!==!0&&G.value<C.value),L=f(()=>(String(t.step).trim().split(".")[1]||"").length),H=f(()=>t.step===0?1:t.step),Ge=f(()=>v.value===!0?t.tabindex||0:-1),re=f(()=>t.max-t.min),Ce=f(()=>C.value-G.value),ne=f(()=>he(G.value)),fe=f(()=>he(C.value)),ie=f(()=>t.vertical===!0?R.value===!0?"bottom":"top":R.value===!0?"right":"left"),xe=f(()=>t.vertical===!0?"height":"width"),He=f(()=>t.vertical===!0?"width":"height"),$e=f(()=>t.vertical===!0?"vertical":"horizontal"),Ke=f(()=>{const u={role:"slider","aria-valuemin":G.value,"aria-valuemax":C.value,"aria-orientation":$e.value,"data-step":t.step};return t.disable===!0?u["aria-disabled"]="true":t.readonly===!0&&(u["aria-readonly"]="true"),u}),Ye=f(()=>`q-slider q-slider${E.value} q-slider--${F.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(v.value===!0?" q-slider--editable":""))+(B.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(p.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+E.value:""));function ue(u){const g="q-slider__"+u;return`${g} ${g}${E.value} ${g}${E.value}${le.value}`}function De(u){const g="q-slider__"+u;return`${g} ${g}${E.value}`}const Je=f(()=>{const u=t.selectionColor||t.color;return"q-slider__selection absolute"+(u!==void 0?` text-${u}`:"")}),Xe=f(()=>De("markers")+" absolute overflow-hidden"),Ze=f(()=>De("track-container")),et=f(()=>ue("pin")),tt=f(()=>ue("label")),ot=f(()=>ue("text-container")),lt=f(()=>ue("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),at=f(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),st=f(()=>{const u={[He.value]:t.trackSize};return t.trackImg!==void 0&&(u.backgroundImage=`url(${t.trackImg}) !important`),u}),rt=f(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),Ve=f(()=>{const u={[ie.value]:`${100*ne.value}%`,[xe.value]:`${100*(fe.value-ne.value)}%`};return t.innerTrackImg!==void 0&&(u.backgroundImage=`url(${t.innerTrackImg}) !important`),u});function nt(u){const{min:g,max:w,step:x}=t;let T=g+u*(w-g);if(x>0){const Z=(T-g)%x;T+=(Math.abs(Z)>=x/2?(Z<0?-1:1)*x:0)-Z}return L.value>0&&(T=parseFloat(T.toFixed(L.value))),oe(T,G.value,C.value)}function he(u){return re.value===0?0:(u-t.min)/re.value}function it(u,g){const w=wt(u),x=t.vertical===!0?oe((w.top-g.top)/g.height,0,1):oe((w.left-g.left)/g.width,0,1);return oe(R.value===!0?1-x:x,ne.value,fe.value)}const qe=f(()=>St(t.markers)===!0?t.markers:H.value),Pe=f(()=>{const u=[],g=qe.value,w=t.max;let x=t.min;do u.push(x),x+=g;while(x<w);return u.push(w),u}),Ee=f(()=>{const u=` ${Ae}${E.value}-`;return Ae+`${u}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${u}${R.value===!0?"rtl":"ltr"}`}),_e=f(()=>t.markerLabels===!1?null:ct(t.markerLabels).map((u,g)=>({index:g,value:u.value,label:u.label||u.value,classes:Ee.value+(u.classes!==void 0?" "+u.classes:""),style:{...Te(u.value),...u.style||{}}}))),Le=f(()=>({markerList:_e.value,markerMap:dt.value,classes:Ee.value,getStyle:Te})),ut=f(()=>{if(Ce.value!==0){const u=100*qe.value/Ce.value;return{...Ve.value,backgroundSize:t.vertical===!0?`2px ${u}%`:`${u}% 2px`}}return null});function ct(u){if(u===!1)return null;if(u===!0)return Pe.value.map(Gl);if(typeof u=="function")return Pe.value.map(w=>{const x=u(w);return ye(x)===!0?{...x,value:w}:{value:w,label:x}});const g=({value:w})=>w>=t.min&&w<=t.max;return Array.isArray(u)===!0?u.map(w=>ye(w)===!0?w:{value:w}).filter(g):Object.keys(u).map(w=>{const x=u[w],T=Number(w);return ye(x)===!0?{...x,value:T}:{value:T,label:x}}).filter(g)}function Te(u){return{[ie.value]:`${100*(u-t.min)/re.value}%`}}const dt=f(()=>{if(t.markerLabels===!1)return null;const u={};return _e.value.forEach(g=>{u[g.value]=g}),u});function mt(){if(a["marker-label-group"]!==void 0)return a["marker-label-group"](Le.value);const u=a["marker-label"]||Hl;return _e.value.map(g=>u({marker:g,...Le.value}))}const pt=f(()=>[[Wt,ft,void 0,{[$e.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ft(u){u.isFinal===!0?(X.value!==void 0&&(o(u.evt),u.touch===!0&&e(!0),X.value=void 0,i("pan","end")),F.value=!1,B.value=!1):u.isFirst===!0?(X.value=s(u.evt),o(u.evt),e(),F.value=!0,i("pan","start")):(o(u.evt),e())}function Me(){B.value=!1}function ht(u){o(u,s(u)),e(),z.value=!0,F.value=!0,document.addEventListener("mouseup",ve,!0)}function ve(){z.value=!1,F.value=!1,e(!0),Me(),document.removeEventListener("mouseup",ve,!0)}function _t(u){o(u,s(u)),e(!0)}function vt(u){We.includes(u.keyCode)&&e(!0)}function gt(u){if(t.vertical===!0)return null;const g=c.lang.rtl!==t.reverse?1-u:u;return{transform:`translateX(calc(${2*g-1} * ${t.thumbSize} / 2 + ${50-100*g}%))`}}function bt(u){const g=f(()=>z.value===!1&&(B.value===u.focusValue||B.value==="both")?" q-slider--focus":""),w=f(()=>`q-slider__thumb q-slider__thumb${E.value} q-slider__thumb${E.value}-${R.value===!0?"rtl":"ltr"} absolute non-selectable`+g.value+(u.thumbColor.value!==void 0?` text-${u.thumbColor.value}`:"")),x=f(()=>({width:t.thumbSize,height:t.thumbSize,[ie.value]:`${100*u.ratio.value}%`,zIndex:B.value===u.focusValue?2:void 0})),T=f(()=>u.labelColor.value!==void 0?` text-${u.labelColor.value}`:""),Z=f(()=>gt(u.ratio.value)),ge=f(()=>"q-slider__text"+(u.labelTextColor.value!==void 0?` text-${u.labelTextColor.value}`:""));return()=>{const be=[P("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[P("path",{d:t.thumbPath})]),P("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(be.push(P("div",{class:et.value+" absolute fit no-pointer-events"+T.value},[P("div",{class:tt.value,style:{minWidth:t.thumbSize}},[P("div",{class:ot.value,style:Z.value},[P("span",{class:ge.value},u.label.value)])])])),t.name!==void 0&&t.disable!==!0&&S(be,"push")),P("div",{class:w.value,style:x.value,...u.getNodeData()},be)}}function yt(u,g,w,x){const T=[];t.innerTrackColor!=="transparent"&&T.push(P("div",{key:"inner",class:rt.value,style:Ve.value})),t.selectionColor!=="transparent"&&T.push(P("div",{key:"selection",class:Je.value,style:u.value})),t.markers!==!1&&T.push(P("div",{key:"marker",class:Xe.value,style:ut.value})),x(T);const Z=[Ct("div",{key:"trackC",class:Ze.value,tabindex:g.value,...w.value},[P("div",{class:at.value,style:st.value},T)],"slide",v.value,()=>pt.value)];if(t.markerLabels!==!1){const ge=t.switchMarkerLabelsSide===!0?"unshift":"push";Z[ge](P("div",{key:"markerL",class:lt.value},mt()))}return Z}return Ne(()=>{document.removeEventListener("mouseup",ve,!0)}),{state:{active:F,focus:B,preventFocus:z,dragging:X,editable:v,classes:Ye,tabindex:Ge,attributes:Ke,step:H,decimals:L,trackLen:re,innerMin:G,innerMinRatio:ne,innerMax:C,innerMaxRatio:fe,positionProp:ie,sizeProp:xe,isReversed:R},methods:{onActivate:ht,onMobileClick:_t,onBlur:Me,onKeyup:vt,getContent:yt,getThumbRenderFn:bt,convertRatioToModel:nt,convertModelToRatio:he,getDraggingRatio:it}}}const Xl=()=>({});var Zl=xt({name:"QSlider",props:{...Kl,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Yl,setup(e,{emit:o}){const{proxy:{$q:s}}=Qe(),{state:d,methods:t}=Jl({updateValue:E,updatePosition:R,getDragging:le,formAttrs:jt(e)}),i=Y(null),a=Y(0),c=Y(0);function p(){c.value=e.modelValue===null?d.innerMin.value:oe(e.modelValue,d.innerMin.value,d.innerMax.value)}ce(()=>`${e.modelValue}|${d.innerMin.value}|${d.innerMax.value}`,p),p();const S=f(()=>t.convertModelToRatio(c.value)),F=f(()=>d.active.value===!0?a.value:S.value),z=f(()=>{const v={[d.positionProp.value]:`${100*d.innerMinRatio.value}%`,[d.sizeProp.value]:`${100*(F.value-d.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(v.backgroundImage=`url(${e.selectionImg}) !important`),v}),B=t.getThumbRenderFn({focusValue:!0,getNodeData:Xl,ratio:F,label:f(()=>e.labelValue!==void 0?e.labelValue:c.value),thumbColor:f(()=>e.thumbColor||e.color),labelColor:f(()=>e.labelColor),labelTextColor:f(()=>e.labelTextColor)}),X=f(()=>d.editable.value!==!0?{}:s.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:G,onBlur:t.onBlur,onKeydown:C,onKeyup:t.onKeyup});function E(v){c.value!==e.modelValue&&o("update:modelValue",c.value),v===!0&&o("change",c.value)}function le(){return i.value.getBoundingClientRect()}function R(v,L=d.dragging.value){const H=t.getDraggingRatio(v,L);c.value=t.convertRatioToModel(H),a.value=e.snap!==!0||e.step===0?H:t.convertModelToRatio(c.value)}function G(){d.focus.value=!0}function C(v){if(!We.includes(v.keyCode))return;$t(v);const L=([34,33].includes(v.keyCode)?10:1)*d.step.value,H=([34,37,40].includes(v.keyCode)?-1:1)*(d.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*L;c.value=oe(parseFloat((c.value+H).toFixed(d.decimals.value)),d.innerMin.value,d.innerMax.value),E()}return()=>{const v=t.getContent(z,d.tabindex,X,L=>{L.push(B())});return P("div",{ref:i,class:d.classes.value+(e.modelValue===null?" q-slider--no-value":""),...d.attributes.value,"aria-valuenow":e.modelValue},v)}}});const ea={props:{min:{type:Number,default:0},max:{type:Number,default:10},proposal:{type:Object,required:!0},section:{type:Object,required:!0},score:{required:!0,default:null}},watch:{score(e,o){this.mark=this.score[this.section.name],this.comment=this.score[`${this.section.name}_comment`]}},data(){return{comment:"",mark:0,formData:{l:4}}},methods:{updateSectionScore(e){this.mark>this.section.max_score?this.mark=this.section.max_score:this.mark<0&&(this.mark=0),this.formData[this.section.name]=this.mark,this.$api.patch(`scores/${e}/`,this.formData).then(o=>{}),this.$bus.emit("score-updated",{section:this.section.name,score:this.mark})},updateSectionComment(e){this.formData[`${this.section.name}_comment`]=this.comment,this.$api.patch(`scores/${e}/`,this.formData).then(o=>{})}}},ta={key:0,class:"q-mb-sm q-mt-sm"},oa=n("thead",null,[n("tr",null,[n("th",{class:"text-left"},"Score"),n("th",{class:"text-left"},"Comment")])],-1),la={class:""},aa={class:"q-td--no-hover"},sa={class:"text-center"},ra=["min","max"],na={class:"q-td--no-hover"};function ia(e,o,s,d,t,i){return s.score&&s.score.status=="IN PROGRESS"&&this.$userHasAnyGroups(["reviewer","grants_officer"])?(m(),h("div",ta,[l(pe,{bordered:"",flat:"",square:"",style:{background:"#f5f5f5"}},{default:r(()=>[oa,n("tbody",null,[n("tr",la,[n("td",aa,[n("div",sa,[U(n("input",{type:"number",min:s.min,max:s.max,"onUpdate:modelValue":o[0]||(o[0]=a=>t.mark=a),onBlur:o[1]||(o[1]=a=>i.updateSectionScore(s.score.id))},null,40,ra),[[Dt,t.mark]]),y("/"+_(s.max),1)]),l(Zl,{modelValue:t.mark,"onUpdate:modelValue":o[2]||(o[2]=a=>t.mark=a),min:s.min,max:s.max,step:1,color:"green",onChange:o[3]||(o[3]=a=>i.updateSectionScore(s.score.id))},null,8,["modelValue","min","max"])]),n("td",na,[l(K,{outlined:"",multiline:"",modelValue:t.comment,"onUpdate:modelValue":o[4]||(o[4]=a=>t.comment=a),type:"textarea",label:"Comment (Optional)",onBlur:o[5]||(o[5]=a=>i.updateSectionComment(s.score.id))},null,8,["modelValue"])])])])]),_:1})])):q("",!0)}var ua=D(ea,[["render",ia]]);const ca={data(){return{loading:!1,showDialog:!1,score:null,sections:[],formData:{strengths:null,weaknesses:null,status:"COMPLETED",is_recommended:null}}},created(){this.getScore(),this.getSections()},computed:{percentageScore(){var t,i;const e=(t=this.sections)==null?void 0:t.map(a=>a.max_score),o=(i=this.sections)==null?void 0:i.map(a=>this.score[a.name]||0);console.log(o);const s=o.reduce((a,c)=>a+c,0),d=e.reduce((a,c)=>a+c,0);return Math.round(s/d*100)}},methods:{getScore(){var e;this.$api.get(`scores/?user=${((e=this.$authStore.currentUser)==null?void 0:e.id)||0}&proposal=${this.$route.params.proposal_id}`).then(o=>{o.data.length==1&&(this.score=o.data[0],this.formData.strengths=this.score.strengths,this.formData.weaknesses=this.score.weaknesses)})},getSections(){this.$api.get("sections/").then(e=>{this.sections=e.data})},startDialog(){this.getScore(),this.showDialog=!0},submitScore(){confirm("This action is irreversible. Please confirm submission of your score sheet")&&(this.$utilsStore.setLoading(!0),this.$api.patch(`scores/${this.score.id}/`,this.formData).then(e=>{this.score=e.data,this.$utilsStore.setLoading(!1),this.showDialog=!1,location.reload()}))}}},da={key:0},ma=n("div",{class:"text-h6"},"Submit Review",-1),pa=n("thead",null,[n("tr",null,[n("th",{class:"text-left"},"Section"),n("th",{class:"text-right"},"Score"),n("th",{class:"text-left"},"Comment")])],-1),fa={key:0},ha={class:"text-left"},_a={class:"text-left"},va={class:"bg-grey-4"},ga=n("td",null,"Total percentage score",-1),ba={colspan:"2"},ya={class:"q-pa-sm row"},ka={class:"col-12 q-px-sm"},wa={class:"col-12 q-px-sm"},Sa={class:"q-pa-md"},Ca=n("p",null,"Do you recommend this proposal for funding?",-1);function xa(e,o,s,d,t,i){return t.score&&t.score.status=="IN PROGRESS"&&e.$userHasAnyGroups(["reviewer"])?(m(),h("div",da,[l(k,{color:"primary",label:"Submit Review",onClick:i.startDialog},null,8,["onClick"]),l(J,{modelValue:t.showDialog,"onUpdate:modelValue":o[6]||(o[6]=a=>t.showDialog=a),persistent:"","full-height":""},{default:r(()=>[l(O,{style:{"min-width":"22rem"}},{default:r(()=>[l($,{class:"flex justify-between"},{default:r(()=>[ma,l(k,{color:"primary",flat:"",dense:"",icon:"close",onClick:o[0]||(o[0]=a=>t.showDialog=!1)})]),_:1}),l(M),l($,{class:"scroll"},{default:r(()=>[l(pe,{separator:"cell",flat:"",dense:"",bordered:""},{default:r(()=>[pa,n("tbody",null,[(m(!0),h(I,null,N(t.sections,a=>(m(),h(I,{key:a.id},[a.max_score>0?(m(),h("tr",fa,[n("td",ha,_(a.title),1),n("td",{class:Be(["text-center",{"bg-green-2":t.score[a.name]>a.max_score/2,"bg-red-1":t.score[a.name]<=a.max_score/2}])},_(t.score[a.name])+"/"+_(a.max_score),3),n("td",_a,_(t.score[`${a.name}_comment`]),1)])):q("",!0)],64))),128)),n("tr",va,[ga,n("td",ba,_(i.percentageScore)+"%",1)])])]),_:1})]),_:1}),n("div",ya,[n("div",ka,[l(de,{outline:"",color:"teal","text-color":"white",icon:"arrow_circle_up"},{default:r(()=>[y(" Strengths ")]),_:1}),l(K,{modelValue:t.formData.strengths,"onUpdate:modelValue":o[1]||(o[1]=a=>t.formData.strengths=a),type:"textarea",outlined:"",label:"Strengths"},null,8,["modelValue"])]),n("div",wa,[l(de,{outline:"",color:"primary","text-color":"white",icon:"arrow_circle_down"},{default:r(()=>[y(" Weaknesses ")]),_:1}),l(K,{modelValue:t.formData.weaknesses,"onUpdate:modelValue":o[2]||(o[2]=a=>t.formData.weaknesses=a),type:"textarea",outlined:"",label:"Weaknesses"},null,8,["modelValue"])])]),n("div",Sa,[Ca,l(we,{modelValue:t.formData.is_recommended,"onUpdate:modelValue":o[3]||(o[3]=a=>t.formData.is_recommended=a),val:!0,label:"Yes"},null,8,["modelValue"]),l(we,{modelValue:t.formData.is_recommended,"onUpdate:modelValue":o[4]||(o[4]=a=>t.formData.is_recommended=a),val:!1,label:"No"},null,8,["modelValue"])]),l(M,{spaced:""}),l($,{align:"right"},{default:r(()=>[l(k,{color:"primary",flat:"",label:"Cancel",onClick:o[5]||(o[5]=a=>t.showDialog=!1)}),l(k,{color:"primary",label:"Submit Review",onClick:i.submitScore},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):q("",!0)}var $a=D(ca,[["render",xa]]);const Da={props:{loading:Boolean},data(){return{}},computed:{show(){return this.$utilsStore.isLoading}},created(){this.$utilsStore.setLoading(!1)}},Va={key:0,class:"loading"};function qa(e,o,s,d,t,i){return i.show?(m(),h("div",Va,[l(J,{modelValue:i.show,"onUpdate:modelValue":o[0]||(o[0]=a=>i.show=a),persistent:""},{default:r(()=>[l(Kt,{color:"primary",size:"3rem",thickness:5})]),_:1},8,["modelValue"])])):q("",!0)}var Pa=D(Da,[["render",qa]]);const Ea={props:{message:{type:String,required:!0}}};function La(e,o,s,d,t,i){return s.message?(m(),b(O,{key:0},{default:r(()=>[l($,{class:"flex justify-between no-wrap q-gutter-x-lg items-stretch"},{default:r(()=>[n("div",null,_(s.message),1),l(k,{flat:"",icon:"close",color:"primary",dense:"",size:"sm",onClick:o[0]||(o[0]=a=>e.$emit("close",""))})]),_:1})]),_:1})):q("",!0)}var Ta=D(Ea,[["render",La]]);const Ma={props:{message:{type:String,required:!0,default:"alert_circle"},icon:{type:String,required:!0}}};function Ia(e,o,s,d,t,i){return m(),h("div",null,[l(O,{flat:"",bordered:"",class:"q-pa-md"},{default:r(()=>[l(j,{size:"md",name:s.icon},null,8,["name"]),y(" "+_(s.message),1)]),_:1})])}var Ra=D(Ma,[["render",Ia]]);const Aa={props:{showModal:Boolean,errorResponse:Object},data(){return{show:!1,errorMessages:{}}},methods:{},watch:{errorResponse(e){this.errorMessages=e.data,this.show=!0}}},Ua=n("div",{class:"text-h6"},"Errors",-1),Oa={class:"text-left"},Fa={class:"text-right"};function Ba(e,o,s,d,t,i){return m(),b(J,{modelValue:t.show,"onUpdate:modelValue":o[1]||(o[1]=a=>t.show=a)},{default:r(()=>[l(O,null,{default:r(()=>[l($,null,{default:r(()=>[Ua]),_:1}),l(M),l($,null,{default:r(()=>[l(pe,{flat:"",bordered:""},{default:r(()=>[n("tbody",null,[(m(!0),h(I,null,N(t.errorMessages,(a,c)=>(m(),h("tr",{key:c},[n("td",Oa,[n("strong",null,_(c),1)]),n("td",Fa,[n("ul",null,[(m(!0),h(I,null,N(a,(p,S)=>(m(),h("li",{key:S},_(p),1))),128))])])]))),128))])]),_:1})]),_:1}),l(M),l(se,{align:"right"},{default:r(()=>[l(k,{color:"primary",label:"Close",onClick:o[0]||(o[0]=a=>t.show=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var Na=D(Aa,[["render",Ba]]);const Qa={props:{label:String,options:{type:Array,required:!0},value:String},data(){return{selectedOption:this.value||null}},watch:{selectedOption(e){this.$emit("input",e)}}};function ja(e,o,s,d,t,i){return m(),h("div",null,[n("label",null,_(s.label),1),n("div",null,[(m(!0),h(I,null,N(s.options,(a,c)=>(m(),b(we,{key:c,modelValue:t.selectedOption,"onUpdate:modelValue":o[0]||(o[0]=p=>t.selectedOption=p),val:a.value},{default:r(()=>[y(_(a.label),1)]),_:2},1032,["modelValue","val"]))),128))])])}var Wa=D(Qa,[["render",ja]]);const za={name:"OptionsField",props:{value:{type:String},options:{type:Array,required:!0},label:{type:String,required:!0},hint:String,error:String},data(){return{selectedOption:this.value}},watch:{selectedOption(e){this.$emit("input",e)}}},Ga={class:"q-field q-my-sm"};function Ha(e,o,s,d,t,i){return m(),h("div",Ga,[l(ae,{dense:"",outlined:"",modelValue:t.selectedOption,"onUpdate:modelValue":o[0]||(o[0]=a=>t.selectedOption=a),options:s.options,label:s.label,hint:s.hint,error:s.error},null,8,["modelValue","options","label","hint","error"])])}var Ka=D(za,[["render",Ha]]),Ya=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Ja=function(e){return Ya.map(function(o){return o.toLowerCase()}).indexOf(e.toLowerCase())!==-1},Xa=function(e,o,s){Object.keys(o).filter(Ja).forEach(function(d){var t=o[d];typeof t=="function"&&(d==="onInit"?t(e,s):s.on(d.substring(2),function(i){return t(i,s)}))})},Za=function(e,o,s,d){var t=e.modelEvents?e.modelEvents:null,i=Array.isArray(t)?t.join(" "):t;ce(d,function(a,c){s&&typeof a=="string"&&a!==c&&a!==s.getContent({format:e.outputFormat})&&s.setContent(a)}),s.on(i||"change input undo redo",function(){o.emit("update:modelValue",s.getContent({format:e.outputFormat}))})},es=function(e,o,s,d,t,i){d.setContent(i()),s.attrs["onUpdate:modelValue"]&&Za(o,s,d,t),Xa(e,s.attrs,d)},Ue=0,ze=function(e){var o=Date.now(),s=Math.floor(Math.random()*1e9);return Ue++,e+"_"+s+Ue+String(o)},ts=function(e){return e!==null&&e.tagName.toLowerCase()==="textarea"},Oe=function(e){return typeof e=="undefined"||e===""?[]:Array.isArray(e)?e:e.split(" ")},os=function(e,o){return Oe(e).concat(Oe(o))},ls=function(e){return e==null},Fe=function(){return{listeners:[],scriptId:ze("tiny-script"),scriptLoaded:!1}},as=function(){var e=Fe(),o=function(t,i,a,c){var p=i.createElement("script");p.referrerPolicy="origin",p.type="application/javascript",p.id=t,p.src=a;var S=function(){p.removeEventListener("load",S),c()};p.addEventListener("load",S),i.head&&i.head.appendChild(p)},s=function(t,i,a){e.scriptLoaded?a():(e.listeners.push(a),t.getElementById(e.scriptId)||o(e.scriptId,t,i,function(){e.listeners.forEach(function(c){return c()}),e.scriptLoaded=!0}))},d=function(){e=Fe()};return{load:s,reinitialize:d}},ss=as(),rs=function(){return typeof window!="undefined"?window:global},ee=function(){var e=rs();return e&&e.tinymce?e.tinymce:null},ns={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(e){return e==="html"||e==="text"}}},te=globalThis&&globalThis.__assign||function(){return te=Object.assign||function(e){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},te.apply(this,arguments)},is=function(e,o,s,d){return e(d||"div",{id:o,ref:s})},us=function(e,o,s){return e("textarea",{id:o,visibility:"hidden",ref:s})},cs=Vt({props:ns,setup:function(e,o){var s=e.init?te({},e.init):{},d=qt(e),t=d.disabled,i=d.modelValue,a=d.tagName,c=Y(null),p=null,S=e.id||ze("tiny-vue"),F=e.init&&e.init.inline||e.inline,z=!!o.attrs["onUpdate:modelValue"],B=!0,X=e.initialValue?e.initialValue:"",E="",le=function(C){return z?function(){return i!=null&&i.value?i.value:""}:function(){return C?X:E}},R=function(){var C=le(B),v=te(te({},s),{readonly:e.disabled,target:c.value,plugins:os(s.plugins,e.plugins),toolbar:e.toolbar||s.toolbar,inline:F,setup:function(L){p=L,L.on("init",function(H){return es(H,e,o,L,i,C)}),typeof s.setup=="function"&&s.setup(L)}});ts(c.value)&&(c.value.style.visibility=""),ee().init(v),B=!1};ce(t,function(C){var v;p!==null&&(typeof((v=p.mode)===null||v===void 0?void 0:v.set)=="function"?p.mode.set(C?"readonly":"design"):p.setMode(C?"readonly":"design"))}),ce(a,function(C){var v;z||(E=p.getContent()),(v=ee())===null||v===void 0||v.remove(p),Ie(function(){return R()})}),Pt(function(){if(ee()!==null)R();else if(c.value&&c.value.ownerDocument){var C=e.cloudChannel?e.cloudChannel:"6",v=e.apiKey?e.apiKey:"no-api-key",L=ls(e.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(v,"/tinymce/").concat(C,"/tinymce.min.js"):e.tinymceScriptSrc;ss.load(c.value.ownerDocument,L,R)}}),Ne(function(){ee()!==null&&ee().remove(p)}),F||(Et(function(){B||R()}),Lt(function(){var C;z||(E=p.getContent()),(C=ee())===null||C===void 0||C.remove(p)}));var G=function(C){var v;E=p.getContent(),(v=ee())===null||v===void 0||v.remove(p),s=te(te({},s),C),Ie(function(){return R()})};return o.expose({rerender:G,getEditor:function(){return p}}),function(){return F?is(P,S,c,e.tagName):us(P,S,c)}}});const ds={name:"app",components:{editor:cs}},ms={id:"app"};function ps(e,o,s,d,t,i){const a=W("editor");return m(),h("div",ms,[l(a,{"api-key":"no-api-key",init:{height:500,menubar:!1,plugins:["a11ychecker","advlist","advcode","advtable","autolink","checklist","export","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","powerpaste","fullscreen","formatpainter","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | casechange blocks | bold italic backcolor |           alignleft aligncenter alignright alignjustify |           bullist numlst checklist outdent indent | removeformat | a11ycheck code table help"},"initial-value":""})])}var fs=D(ds,[["render",ps]]);const hs={"developer-menu":Zt,"developer-menu-2":no,"user-menu":Mt,"user-menu-2":po,"main-menu":vo,"proposal-options":yo,"useful-docs":Co,taglines:qo,"user-logout":Mo,"update-user":Xo,"change-password":Ut,"create-proposal-dialog":nl,"proposal-file-attachment":bl,"submit-proposal":Pl,"accept-review":Al,"section-editor":zl,"score-editor":ua,"score-sheet":$a,"proposal-score-sheets":Ht,"loading-component":Pa,"message-box":Ta,"alert-msg":Ra,"error-message-modal":Na,"radio-field":Wa,"options-field":Ka,"tiny-mce":fs};var ur=async({app:e})=>{Object.entries(hs).forEach(([o,s])=>{e.component(o,s)})};export{ur as default};
