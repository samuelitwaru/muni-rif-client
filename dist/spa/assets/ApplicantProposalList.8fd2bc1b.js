import{a as c,Q as C}from"./QBreadcrumbs.3adf63fc.js";import{Q as D}from"./QSeparator.576b1ac8.js";import{Q as L}from"./QInput.99fe7471.js";import{_ as S,aL as V,r as d,o,j as i,i as m,f as e,w as s,F as f,k as _,e as l,g as h,Q as g,h as y,t as Q,R as b,u as k}from"./index.f08ad6ba.js";import{Q as x,a as n}from"./QItem.aa34c858.js";import{Q as q}from"./QChip.7371d580.js";import{Q as v}from"./QList.27f29234.js";import{Q as B}from"./QSpinnerIos.dfbc3035.js";import{Q as I}from"./QInnerLoading.ef91e432.js";import"./use-dark.26c7a6e7.js";import"./use-key-composition.8f3e2ed8.js";import"./use-split-attrs.f128f906.js";import"./uid.083ad4e2.js";import"./use-form.b0f97b95.js";import"./use-transition.5393b565.js";const U={name:"ApplicantProposalList",data(){return{loading:!1,proposals:[],teamProposals:[],formData:{search_query:"",page:1,limit:10}}},created(){V(this.$options.name),this.$userHasAnyGroups(["applicant"])&&this.getCurrentUserProposals()},methods:{getCurrentUserProposals(){this.loading=!0,this.formData.user=this.$authStore.currentUser.id;const p=this.$buildURLQuery(this.formData);this.$api.get(`proposals?${p}`).then(r=>{this.proposals=r.data.results,this.loading=!1})}}},N={class:"q-ma-md"},$=m("h2",{class:"flex justify-between text-h6 q-px-sm"}," My Proposals ",-1),j={class:"flex q-px-sm justify-between items-stretch"},A={key:0,align:"center",style:{"margin-top":"10rem"}},F=m("p",null,"No proposals found",-1),R=[F];function E(p,r,H,M,a,P){const w=d("create-proposal-dialog"),u=d("router-link");return o(),i("div",null,[m("div",N,[e(C,null,{default:s(()=>[e(c,{icon:"home",to:"/",label:"Home"}),e(c,{label:"My Proposals",icon:"note"})]),_:1})]),e(D,{spaced:""}),$,m("div",j,[e(L,{dense:"",outlined:"",modelValue:a.formData.search_query,"onUpdate:modelValue":[r[0]||(r[0]=t=>a.formData.search_query=t),r[1]||(r[1]=t=>P.getCurrentUserProposals())],type:"text",label:"Search",class:"q-mr-sm"},null,8,["modelValue"]),e(w)]),e(v,{bordered:"",class:"q-ma-sm"},{default:s(()=>[(o(!0),i(f,null,_(a.proposals,t=>(o(),l(u,{to:`proposals/${t.id}`,key:t.id},{default:s(()=>[h((o(),l(x,{clickable:""},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(g,{color:"",name:"book"})]),_:1}),e(n,null,{default:s(()=>[y(Q(t.title),1)]),_:2},1024),e(q,{color:"secondary",class:"glossy",dense:"",label:t.status},null,8,["label"])]),_:2},1024)),[[b]])]),_:2},1032,["to"]))),128))]),_:1}),e(I,{showing:a.loading},{default:s(()=>[e(B,{size:"50px",color:"primary"})]),_:1},8,["showing"]),a.proposals.length==0?(o(),i("div",A,R)):k("",!0),a.teamProposals.length?(o(),l(v,{key:1,bordered:"",class:"q-ma-sm"},{default:s(()=>[(o(!0),i(f,null,_(a.teamProposals,t=>(o(),l(u,{to:`proposals/${t.id}`,key:t.id},{default:s(()=>[h((o(),l(x,{clickable:""},{default:s(()=>[e(n,{avatar:""},{default:s(()=>[e(g,{color:"",name:"book"})]),_:1}),e(n,null,{default:s(()=>[y(Q(t.title),1)]),_:2},1024),e(q,{color:"secondary",class:"glossy",dense:"",label:t.status},null,8,["label"])]),_:2},1024)),[[b]])]),_:2},1032,["to"]))),128))]),_:1})):k("",!0)])}var re=S(U,[["render",E]]);export{re as default};
