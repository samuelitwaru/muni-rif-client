import{a as p,Q as h}from"./QBreadcrumbs.6f1afc2d.js";import{Q as f}from"./QSeparator.378e1fe5.js";import{Q as y}from"./QBtnToggle.870b9edc.js";import{Q as g}from"./QInput.9ae5b315.js";import{_ as Q,aL as q,r as b,o as i,j as n,i as l,f as e,w as r,h as d,F as v,k as x,e as S,Q as V,t as P,u as I}from"./index.321f2a75.js";import{Q as w,a as c}from"./QItem.911ffa5f.js";import{Q as E}from"./QChip.663160d5.js";import{Q as L}from"./QList.f06dd0ed.js";import{Q as k}from"./QSpinnerIos.76fb3c28.js";import{Q as D}from"./QInnerLoading.a47bbd29.js";import"./use-dark.89890713.js";import"./QBtnGroup.97cb1948.js";import"./use-form.45c1b99b.js";import"./use-key-composition.439dccc7.js";import"./use-split-attrs.467a65ac.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-transition.915f958c.js";const B={name:"ProposalList",data(){return{stateData:this.$utilsStore.getStateData(),loading:!1,proposals:[],search_query:"",status_query:null}},created(){q(this.$options.name),this.status_query=this.stateData.ProposalList_status_query,this.getProposals()},methods:{getProposals(){this.loading=!0;var o={exclude__status:"EDITING"};this.search_query.length&&(o.search=this.search_query),this.status_query&&(o.status=this.status_query);var s=this.$buildURLQuery(o);this.$api.get(`proposals?${s}`).then(u=>{this.proposals=u.data,this.loading=!1})}},watch:{search_query(o){this.getProposals()},status_query(o){this.$utilsStore.setStateData("ProposalList_status_query",o)}}},N={class:"q-ma-md"},T={class:"flex justify-between items-center text-h6 q-px-sm"},C={class:"flex"},U={style:{width:"100px"}},j={key:0,align:"center",style:{"margin-top":"10rem"}},F=l("p",null,"No proposals found",-1),R=[F];function $(o,s,u,z,a,m){const _=b("router-link");return i(),n("div",null,[l("div",N,[e(h,null,{default:r(()=>[e(p,{icon:"home",to:"/",label:"Home"}),e(p,{label:"Proposals",icon:"note"})]),_:1})]),e(f,{spaced:""}),l("h2",T,[d(" Proposals "),l("div",C,[e(y,{flat:"",modelValue:a.status_query,"onUpdate:modelValue":[s[0]||(s[0]=t=>a.status_query=t),m.getProposals],"toggle-color":"primary",options:[{label:"All",value:null},{label:"Pending",value:"SUBMITTED"},{label:"Reviewed",value:"REVIEWED"},{label:"Selected",value:"SELECTED"}],class:"q-mx-sm"},null,8,["modelValue","onUpdate:modelValue"]),e(g,{dense:"",outlined:"",modelValue:a.search_query,"onUpdate:modelValue":s[1]||(s[1]=t=>a.search_query=t),type:"text",label:"Search",class:"q-mr-sm",onInput:s[2]||(s[2]=t=>m.getProposals())},null,8,["modelValue"])])]),e(L,{bordered:"",class:"q-ma-sm"},{default:r(()=>[(i(!0),n(v,null,x(a.proposals,t=>(i(),S(w,{class:"flex justify-between items-center",key:t.id},{default:r(()=>[e(c,{avatar:""},{default:r(()=>[e(V,{color:"",name:"book"})]),_:1}),e(c,null,{default:r(()=>[e(_,{to:`proposals/${t.id}`},{default:r(()=>[d(P(t.title),1)]),_:2},1032,["to"])]),_:2},1024),l("div",U,[e(E,{color:"secondary",class:"text-center",dense:"",label:t.status},null,8,["label"])])]),_:2},1024))),128))]),_:1}),e(D,{showing:a.loading},{default:r(()=>[e(k,{size:"50px",color:"primary"})]),_:1},8,["showing"]),a.proposals.length==0?(i(),n("div",j,R)):I("",!0)])}var ie=Q(B,[["render",$]]);export{ie as default};
