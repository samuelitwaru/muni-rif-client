import{Q as g,a as h}from"./QBreadcrumbs.18ea6ff7.js";import{Q as v}from"./QSeparator.6c6f2516.js";import{_ as k,r as C,o as s,e as d,w as o,i as e,f as l,l as i,j as _,F as y,k as b,t as u,Q,v as x,aM as I,aN as $}from"./index.f337fba3.js";import{Q as B}from"./QMarkupTable.6b8f96f3.js";import{Q as S}from"./QPage.7c60fe9d.js";import{a as A}from"./api.6aa31d0d.js";import"./use-dark.1793b84e.js";import"./axios.68c0a364.js";const q={name:"DataTable",data(){return{items:[]}},created(){this.init()},methods:{init(){A().then(t=>this.items=t)},editItem(t){console.log("Edit item:",t)},setAsActiveCall(t){this.$utilsStore.setLoading(!0),this.$api.get(`/calls/${t}/set-as-active`).then(n=>{n.status==200&&(this.init(),this.$utilsStore.setLoading(!1))})},deleteItem(t){confirm("Delete this call?")&&this.$api.delete(`calls/${t}`).then(n=>{n.status==204&&(window.location="/calls")})}}},f=t=>(I("data-v-d8ccbf92"),t=t(),$(),t),w={class:"q-ma-md"},D={align:"right",class:"q-ma-sm"},N=f(()=>e("thead",null,[e("tr",null,[e("th",{align:"left"},"Title"),e("th",{align:"left"},"Date From"),e("th",{align:"left"},"Date To"),e("th",{align:"center"},"Active"),e("th",{align:"left"},"Actions")])],-1)),F={align:"center"},T={key:0},E=f(()=>e("p",{class:"text-center q-py-xl q-my-xl text-h3 text-grey"}," No Calls Found! ",-1)),L={class:"text-center"};function V(t,n,M,j,m,c){const r=C("router-link");return s(),d(S,null,{default:o(()=>[e("div",w,[l(g,null,{default:o(()=>[l(h,{icon:"home",to:"/",label:"Home"}),l(h,{label:"Calls",icon:"campaign"})]),_:1})]),l(v,{spaced:""}),e("div",D,[l(r,{to:"/calls/create"},{default:o(()=>[l(i,{color:"primary",outline:"",label:"add call"})]),_:1})]),l(B,{class:"q-ma-sm",flat:"",bordered:""},{default:o(()=>[N,e("tbody",null,[(s(!0),_(y,null,b(m.items,a=>(s(),_("tr",{key:a.id},[e("td",null,u(a.title),1),e("td",null,u(a.date_from),1),e("td",null,u(a.date_to),1),e("td",F,[a.is_active?(s(),d(Q,{key:0,name:"check_circle_outline",size:"lg",color:"green"})):(s(),d(i,{key:1,color:"primary",dense:"",outline:"",label:"set as active",onClick:p=>c.setAsActiveCall(a.id)},null,8,["onClick"]))]),e("td",null,[l(r,{to:`/calls/${a.id}`},{default:o(()=>[l(i,{icon:"edit",flat:"",color:"primary",onClick:p=>c.editItem(a)},null,8,["onClick"])]),_:2},1032,["to"]),l(i,{icon:"delete",flat:"",color:"negative",onClick:p=>c.deleteItem(a.id)},null,8,["onClick"])])]))),128))])]),_:1}),m.items.length==0?(s(),_("div",T,[E,e("div",L,[l(r,{to:"/calls/create"},{default:o(()=>[l(i,{color:"primary",outline:"",label:"add call"})]),_:1})])])):x("",!0)]),_:1})}var U=k(q,[["render",V],["__scopeId","data-v-d8ccbf92"]]);export{U as default};
