import{Q as k,a as m}from"./QBreadcrumbs.9c06453f.js";import{Q as g}from"./QSeparator.68732f5d.js";import{_ as w,r as C,o as i,e as v,w as s,i as e,f as l,l as o,j as c,F as y,k as I,t as r,v as b,aM as Q,aN as $}from"./index.1080353d.js";import{Q as B}from"./QMarkupTable.c0451a53.js";import{Q as N}from"./QPage.23d4180f.js";import"./use-dark.6b0451ed.js";const R={name:"ReviewerList",data(){return{formData:{title:""},reviewers:[]}},created(){this.init()},methods:{init(){this.getReviewers()},getReviewers(){this.$api.get("users/?groups__name__in=reviewer").then(t=>{this.reviewers=t.data})},inviteUser(t){if(confirm("Confirm send invite?")){const n={email:t.email};console.log("user",t),this.$api.post("users/send-invite/",n).then(d=>{if(d.status==200){var u="Invitation email has been sent";this.$q.notify(u)}})}},deleteItem(t){confirm("Delete this reviewer?")&&this.$api.delete(`users/${t}`).then(n=>{n.status==204&&this.init()})}}},S=t=>(Q("data-v-c02f70e2"),t=t(),$(),t),V={class:"q-ma-md"},q={align:"right",class:"q-ma-sm"},x=S(()=>e("thead",null,[e("tr",null,[e("th",{align:"left"},"First Name"),e("th",{align:"left"},"Last Name"),e("th",{align:"left"},"Email"),e("th",{align:"left"},"Telephone"),e("th",{align:"left"},"Qualification"),e("th",{align:"left"},"Status"),e("th",{align:"left"})])],-1)),E={key:0,class:"text-green"},T={key:1,class:"text-red"};function D(t,n,d,u,h,_){const f=C("router-link");return i(),v(N,null,{default:s(()=>[e("div",V,[l(k,null,{default:s(()=>[l(m,{icon:"home",to:"/",label:"Home"}),l(m,{label:"Reviewers",icon:"people"})]),_:1})]),l(g,{spaced:""}),e("div",q,[l(f,{to:"/reviewers/create"},{default:s(()=>[l(o,{color:"primary",outline:"",label:"add reviewer",onClick:t.onClick},null,8,["onClick"])]),_:1})]),l(B,{class:"q-ma-sm",flat:"",bordered:""},{default:s(()=>[x,e("tbody",null,[(i(!0),c(y,null,I(h.reviewers,a=>(i(),c("tr",{key:a.id},[e("td",null,r(a.first_name),1),e("td",null,r(a.last_name),1),e("td",null,r(a.email),1),e("td",null,r(a.profile.phone),1),e("td",null,r(a.profile.qualification_name),1),e("td",null,[a.is_active?(i(),c("span",E,"ACTIVE")):(i(),c("span",T,"INACTIVE"))]),e("td",null,[l(f,{to:`/reviewers/${a.id}`},{default:s(()=>[l(o,{label:"View",flat:"",color:"primary",onClick:p=>t.editItem(a)},null,8,["onClick"])]),_:2},1032,["to"]),l(o,{icon:"delete",flat:"",color:"primary",onClick:p=>_.deleteItem(a.id)},null,8,["onClick"]),a.is_active?b("",!0):(i(),v(o,{key:0,label:"Invite",flat:"",color:"secondary",onClick:p=>_.inviteUser(a)},null,8,["onClick"]))])]))),128))])]),_:1})]),_:1})}var H=w(R,[["render",D],["__scopeId","data-v-c02f70e2"]]);export{H as default};
