import{Q as d}from"./QCardSection.f9ea1c28.js";import{Q as u}from"./QSeparator.b2724df3.js";import{Q as r}from"./QInput.53c1df55.js";import{Q as n}from"./QCheckbox.009845cf.js";import{_ as p,o as f,c,w as s,a as t,g as i,t as h,j as _,s as g}from"./index.9b6d8f02.js";import{Q as D}from"./QCardActions.32b480bd.js";import{Q}from"./QCard.4957859e.js";import{Q as V}from"./QForm.da5dcb33.js";import{Q as C}from"./QPage.22df8bb6.js";import"./use-dark.8dc51c8e.js";import"./use-key-composition.cd9c2a48.js";import"./uid.9faae8c0.js";import"./focus-manager.b507780d.js";import"./use-form.33fd784e.js";import"./option-sizes.716516ba.js";const y={name:"UpdateCall",data(){return{loading:!1,showDialog:!1,call:null,formData:{title:""}}},created(){this.getCall()},methods:{getCall(){this.$api.get(`calls/${this.$route.params.call_id}/`).then(a=>{a.status==200&&(this.call=a.data,this.formData=a.data)})},updateCall(){this.$utilsStore.setLoading(!0),this.$api.put(`calls/${this.$route.params.call_id}/`,this.formData).then(a=>{a.status==200&&(this.call=a.data,this.$router.push("/calls/"),this.$utilsStore.setLoading(!1))})},setFormData(){this.formData={title:"Muni RIF Management System",is_active:!0,date_from:"2024-06-24T09:57:11.467359Z",date_to:"2024-06-24T09:57:11.467359Z"}}},watch:{showPopup(a,e){this.showDialog=a},showDialog(a,e){this.$emit("showPopupChanged",a)}}},b={class:"text-h6"},w=i("label",null,"Name your call",-1),S={class:"row q-col-gutter-xs q-my-sm"};function x(a,e,v,k,l,m){return l.call?(f(),c(C,{key:0,padding:""},{default:s(()=>[t(V,{onSubmit:m.updateCall,class:"q-gutter-md flex justify-center"},{default:s(()=>[t(Q,{style:{width:"500px"}},{default:s(()=>[t(d,null,{default:s(()=>[i("div",b,h(l.call.title),1)]),_:1}),t(u),t(d,{class:"q-pt-lg q-pb-md"},{default:s(()=>[w,t(r,{modelValue:l.formData.title,"onUpdate:modelValue":e[0]||(e[0]=o=>l.formData.title=o),label:"Title of your call",outlined:"",required:""},null,8,["modelValue"]),i("div",S,[t(r,{class:"col",modelValue:l.formData.date_from,"onUpdate:modelValue":e[1]||(e[1]=o=>l.formData.date_from=o),type:"date",label:"Period Starts From?",outlined:""},null,8,["modelValue"]),t(r,{class:"col",modelValue:l.formData.date_to,"onUpdate:modelValue":e[2]||(e[2]=o=>l.formData.date_to=o),type:"date",label:"Period Ends On?",outlined:""},null,8,["modelValue"])]),t(n,{modelValue:l.formData.is_active,"onUpdate:modelValue":e[3]||(e[3]=o=>l.formData.is_active=o),label:"Set as currently active period"},null,8,["modelValue"])]),_:1}),t(u,{spaced:""}),t(D,{align:"right"},{default:s(()=>[t(_,{color:"primary",label:"Update",onClick:m.updateCall},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})):g("",!0)}var O=p(y,[["render",x]]);export{O as default};
