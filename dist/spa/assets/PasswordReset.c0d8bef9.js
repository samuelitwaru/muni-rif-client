import{Q as m}from"./QCardSection.e3906341.js";import{Q as _}from"./QInput.9ae5b315.js";import{_ as f,r as a,o as g,j as h,f as e,w as t,l as n,i as l}from"./index.321f2a75.js";import{Q as b}from"./QSeparator.378e1fe5.js";import{Q as w}from"./QForm.fd476d0e.js";import{Q}from"./QCard.605795d5.js";import"./use-key-composition.439dccc7.js";import"./use-dark.89890713.js";import"./use-split-attrs.467a65ac.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.45c1b99b.js";const R={data(){return{loading:!1,message:"",errorResponse:{},formData:{email:""},emailRules:[s=>!!s||"Email is required",s=>/.+@.+\..+/.test(s)||"Email must be valid"]}},created(){},methods:{resetPassword(){this.$utilsStore.setLoading(!0),this.$api.post("accounts/reset-password/",this.formData).then(s=>{this.$utilsStore.setLoading(!1),this.$q.notify({type:"positive",message:"Password reset link sent to your email."}),this.message=s.data.detail}).catch(s=>{this.$utilsStore.setLoading(!1),this.errorResponse=s.response})},setFormData(){this.formData={email:"samuelitwaru@gmail.com"}}}},y={align:"center"},x=l("h3",{class:"text-h6"},"Password Reset",-1),S=l("br",null,null,-1),v=l("br",null,null,-1);function D(s,o,P,k,r,u){const d=a("message-box"),p=a("error-message-modal"),c=a("router-link");return g(),h("div",y,[e(d,{message:this.message,onClose:o[0]||(o[0]=i=>this.message="")},null,8,["message"]),e(p,{errorResponse:r.errorResponse},null,8,["errorResponse"]),e(Q,{class:"q-my-lg",style:{"min-width":"22rem"}},{default:t(()=>[e(m,null,{default:t(()=>[x]),_:1}),e(m,null,{default:t(()=>[e(w,{onSubmit:u.resetPassword},{default:t(()=>[e(_,{outlined:"",dense:"",modelValue:r.formData.email,"onUpdate:modelValue":o[1]||(o[1]=i=>r.formData.email=i),label:"Email",type:"email",rules:r.emailRules,required:""},null,8,["modelValue","rules"]),e(n,{type:"submit",color:"primary",label:"Reset Password"}),S,v,e(b,{spaced:""}),e(c,{to:"/index/account/signin"},{default:t(()=>[e(n,{flat:"",color:"primary",label:"Sign in"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])}var z=f(R,[["render",D]]);export{z as default};
