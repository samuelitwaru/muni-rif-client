import{a as d,Q as C}from"./QBreadcrumbs.fe6ab351.js";import{Q as V}from"./QSeparator.b2724df3.js";import{Q as I}from"./QInput.53c1df55.js";import{_ as B,r as _,o,h as n,g as p,a as e,w as t,f as m,F as h,i as f,c as l,e as g,Q as y,t as Q,R as b,s as k}from"./index.9b6d8f02.js";import{Q as q,a as i}from"./QItem.7adbf461.js";import{Q as v}from"./QChip.4ed0a923.js";import{Q as x}from"./QList.afbd39be.js";import{Q as S}from"./QSpinnerIos.d914485f.js";import{Q as U}from"./QInnerLoading.9346051e.js";import{p as $}from"./helpers.dc7d9857.js";import"./use-dark.8dc51c8e.js";import"./use-key-composition.cd9c2a48.js";import"./uid.9faae8c0.js";import"./focus-manager.b507780d.js";import"./use-form.33fd784e.js";import"./use-transition.8872bac2.js";import"./auth.55241972.js";const L={name:"ApplicantProposalList",data(){return{loading:!1,proposals:[],teamProposals:[],search_query:""}},created(){$(this.$options.name),this.$userHasAnyGroups(["applicant"])&&this.getCurrentUserProposals()},methods:{getCurrentUserProposals(){this.loading=!0;var c=this.search_query?`&search=${this.search_query}`:"";this.$api.get(`proposals?user=${this.$authStore.currentUser.id}${c}`).then(a=>{this.proposals=a.data,this.loading=!1})}},watch:{search_query(c){this.getCurrentUserProposals()}}},N={class:"q-ma-md"},A={class:"flex justify-between text-h6 q-px-md"},F={class:"flex"},D={key:0,align:"center",style:{"margin-top":"10rem"}},E=p("p",null,"No proposals found",-1),H=[E];function M(c,a,R,j,r,P){const w=_("create-proposal-dialog"),u=_("router-link");return o(),n("div",null,[p("div",N,[e(C,null,{default:t(()=>[e(d,{icon:"home",to:"/",label:"Home"}),e(d,{label:"My Proposals",icon:"note"})]),_:1})]),e(V,{spaced:""}),p("h2",A,[m(" My Proposals "),p("div",F,[e(I,{dense:"",outlined:"",modelValue:r.search_query,"onUpdate:modelValue":a[0]||(a[0]=s=>r.search_query=s),type:"text",label:"Search",class:"q-mr-sm",onInput:a[1]||(a[1]=s=>P.getCurrentUserProposals())},null,8,["modelValue"]),e(w)])]),e(x,{bordered:"",class:"q-ma-sm"},{default:t(()=>[(o(!0),n(h,null,f(r.proposals,s=>(o(),l(u,{to:`proposals/${s.id}`,key:s.id},{default:t(()=>[g((o(),l(q,{clickable:""},{default:t(()=>[e(i,{avatar:""},{default:t(()=>[e(y,{color:"",name:"book"})]),_:1}),e(i,null,{default:t(()=>[m(Q(s.title),1)]),_:2},1024),e(v,{color:"secondary",class:"glossy",dense:"",label:s.status},null,8,["label"])]),_:2},1024)),[[b]])]),_:2},1032,["to"]))),128))]),_:1}),e(U,{showing:r.loading},{default:t(()=>[e(S,{size:"50px",color:"primary"})]),_:1},8,["showing"]),r.proposals.length==0?(o(),n("div",D,H)):k("",!0),r.teamProposals.length?(o(),l(x,{key:1,bordered:"",class:"q-ma-sm"},{default:t(()=>[(o(!0),n(h,null,f(r.teamProposals,s=>(o(),l(u,{to:`proposals/${s.id}`,key:s.id},{default:t(()=>[g((o(),l(q,{clickable:""},{default:t(()=>[e(i,{avatar:""},{default:t(()=>[e(y,{color:"",name:"book"})]),_:1}),e(i,null,{default:t(()=>[m(Q(s.title),1)]),_:2},1024),e(v,{color:"secondary",class:"glossy",dense:"",label:s.status},null,8,["label"])]),_:2},1024)),[[b]])]),_:2},1032,["to"]))),128))]),_:1})):k("",!0)])}var ne=B(L,[["render",M]]);export{ne as default};
