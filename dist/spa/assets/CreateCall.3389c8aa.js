import{Q as _,a as d}from"./QBreadcrumbs.c3e1ce91.js";import{Q as n}from"./QSeparator.d1f4a56a.js";import{Q as f}from"./QCardSection.2e3c7736.js";import{Q as i}from"./QInput.d21a7e16.js";import{Q as h}from"./QDate.648cb7dc.js";import{Q as g}from"./QPopupProxy.4a29f19b.js";import{_ as Q,o as V,c as w,w as l,g as s,a as e,f as p,t as u,j as c}from"./index.542c6195.js";import{Q as D}from"./QCard.afc089a4.js";import{Q as C}from"./QCheckbox.6798d8d2.js";import{Q as b}from"./QCardActions.63948365.js";import{Q as y}from"./QForm.1332b4b2.js";import{Q as v}from"./QPage.3405bde5.js";import"./use-dark.3250c496.js";import"./use-key-composition.13c30634.js";import"./use-split-attrs.44f15fb2.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.94504a9c.js";import"./use-cache.b0833c75.js";import"./format.3e32b8d9.js";import"./QDialog.ccae1525.js";import"./use-prevent-scroll.f7d9b58d.js";import"./scroll.652ffd25.js";import"./use-timeout.04e0df1e.js";import"./focusout.e24870b5.js";import"./use-transition.566a6544.js";import"./QMenu.349a7bd2.js";import"./selection.8c192d65.js";import"./option-sizes.9718bf87.js";const x={name:"CreateCall",data(){return{loading:!1,showDialog:!1,proxyDate:"2019/03/01",formData:{title:"",is_active:!1,date_range:{from:"",to:""},date_from:"",date_to:""}}},created(){},methods:{createCall(){this.formData.date_from=new Date(this.formData.date_from).toJSON().split("T")[0],this.formData.date_to=new Date(this.formData.date_to).toJSON().split("T")[0],this.$api.post("calls/",this.formData).then(r=>{this.$router.push("/calls/"),this.$utilsStore.setLoading(!1),this.showDialog=!1})},setDateRange(){this.formData.date_from=this.formData.date_range.from,this.formData.date_to=this.formData.date_range.to},cancelCreate(){this.showDialog=!1},setFormData(){this.formData={title:"",is_active:!1,date_range:{from:"",to:""},date_from:"",date_to:""}}},watch:{showPopup(r,t){this.showDialog=r},showDialog(r,t){this.$emit("showPopupChanged",r)}}},S={class:"q-ma-md"},q=s("div",{class:"text-h6"},"New Call",-1),B=s("span",{class:"text-grey text-caption"},"From : ",-1),N=s("span",{class:"text-grey text-caption"},"To : ",-1);function P(r,t,U,k,a,m){return V(),w(v,null,{default:l(()=>[s("div",S,[e(_,null,{default:l(()=>[e(d,{icon:"home",to:"/",label:"Home"}),e(d,{label:"Create New Call",icon:"campaign"})]),_:1})]),e(n,{spaced:"",size:"0.5px"}),e(y,{onSubmit:m.createCall,class:"q-gutter-md flex justify-center"},{default:l(()=>[e(D,{style:{width:"500px"}},{default:l(()=>[e(f,null,{default:l(()=>[q]),_:1}),e(n),e(f,{class:"q-pt-lg q-pb-md"},{default:l(()=>[e(i,{modelValue:a.formData.title,"onUpdate:modelValue":t[0]||(t[0]=o=>a.formData.title=o),label:"Title of your call",outlined:"",required:""},null,8,["modelValue"]),e(D,{flat:"",bordered:"",class:"flex items-center justify-between q-pa-sm q-mt-sm"},{default:l(()=>[s("div",null,[B,p(" "+u(r.$formatDate(a.formData.date_from)),1)]),s("div",null,[N,p(" "+u(r.$formatDate(a.formData.date_to)),1)]),e(c,{icon:"event",round:"",color:"primary"},{default:l(()=>[e(g,{onBeforeShow:r.updateProxy,cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(h,{onRangeEnd:m.setDateRange,modelValue:a.formData.date_range,"onUpdate:modelValue":t[1]||(t[1]=o=>a.formData.date_range=o),range:""},null,8,["onRangeEnd","modelValue"])]),_:1},8,["onBeforeShow"])]),_:1})]),_:1}),e(i,{class:"q-my-sm",modelValue:a.formData.submission_date,"onUpdate:modelValue":t[2]||(t[2]=o=>a.formData.submission_date=o),type:"date",label:"Applications Submission Deadline?",outlined:""},null,8,["modelValue"]),e(i,{class:"q-my-sm",modelValue:a.formData.review_date,"onUpdate:modelValue":t[3]||(t[3]=o=>a.formData.review_date=o),type:"date",label:"Applications Review Deadline?",outlined:""},null,8,["modelValue"]),e(i,{class:"q-my-sm",modelValue:a.formData.selection_date,"onUpdate:modelValue":t[4]||(t[4]=o=>a.formData.selection_date=o),type:"date",label:"Applications Selection Deadline?",outlined:""},null,8,["modelValue"]),e(C,{modelValue:a.formData.is_active,"onUpdate:modelValue":t[5]||(t[5]=o=>a.formData.is_active=o),label:"Set this as currently active period"},null,8,["modelValue"])]),_:1}),e(n,{spaced:""}),e(b,{align:"right"},{default:l(()=>[e(c,{color:"primary",label:"Create",onClick:m.createCall},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})}var ne=Q(x,[["render",P]]);export{ne as default};
