import{Q as P}from"./QDialog.3343fb4c.js";import{u as x,c as y,Q}from"./QMenu.61fa0658.js";import{k as b,p,l as h,C,a8 as k,m as j,B as M}from"./index.9b6d8f02.js";var I=b({name:"QPopupProxy",props:{...x,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(a,{slots:g,emit:l,attrs:v}){const{proxy:u}=M(),{$q:c}=u,n=p(!1),t=p(null),i=h(()=>parseInt(a.breakpoint,10)),{canShow:f}=y({showing:n});function r(){return c.screen.width<i.value||c.screen.height<i.value?"dialog":"menu"}const o=p(r()),m=h(()=>o.value==="menu"?{maxHeight:"99vh"}:{});C(()=>r(),e=>{n.value!==!0&&(o.value=e)});function d(e){n.value=!0,l("show",e)}function w(e){n.value=!1,o.value=r(),l("hide",e)}return Object.assign(u,{show(e){f(e)===!0&&t.value.show(e)},hide(e){t.value.hide(e)},toggle(e){t.value.toggle(e)}}),k(u,"currentComponent",()=>({type:o.value,ref:t.value})),()=>{const e={ref:t,...m.value,...v,onShow:d,onHide:w};let s;return o.value==="dialog"?s=P:(s=Q,Object.assign(e,{target:a.target,contextMenu:a.contextMenu,noParentEvent:!0,separateClosePopup:!0})),j(s,e,g.default)}}});export{I as Q};
