import{Q as m}from"./QCardSection.f9ea1c28.js";import{Q as _}from"./QInput.53c1df55.js";import{_ as f,r as a,o as g,h,a as e,w as t,j as n,g as l}from"./index.9b6d8f02.js";import{Q as b}from"./QSeparator.b2724df3.js";import{Q}from"./QForm.da5dcb33.js";import{Q as w}from"./QCard.4957859e.js";import"./use-key-composition.cd9c2a48.js";import"./use-dark.8dc51c8e.js";import"./uid.9faae8c0.js";import"./focus-manager.b507780d.js";import"./use-form.33fd784e.js";const R={data(){return{loading:!1,message:"",errorResponse:{},formData:{email:""},emailRules:[s=>!!s||"Email is required",s=>/.+@.+\..+/.test(s)||"Email must be valid"]}},created(){},methods:{resetPassword(){this.$utilsStore.setLoading(!0),this.$api.post("accounts/reset-password/",this.formData).then(s=>{this.$utilsStore.setLoading(!1),this.message=s.data.detail}).catch(s=>{this.$utilsStore.setLoading(!1),this.errorResponse=s.response})},setFormData(){this.formData={email:"samuelitwaru@gmail.com"}}}},x={align:"center"},S=l("h3",{class:"text-h6"},"Password Reset",-1),y=l("br",null,null,-1),D=l("br",null,null,-1);function v(s,o,C,P,r,u){const d=a("message-box"),p=a("error-message-modal"),c=a("router-link");return g(),h("div",x,[e(d,{message:this.message,onClose:o[0]||(o[0]=i=>this.message="")},null,8,["message"]),e(p,{errorResponse:r.errorResponse},null,8,["errorResponse"]),e(w,{class:"q-my-lg",style:{"min-width":"23rem"}},{default:t(()=>[e(m,null,{default:t(()=>[S]),_:1}),e(m,null,{default:t(()=>[e(Q,{onSubmit:u.resetPassword},{default:t(()=>[e(_,{outlined:"",dense:"",modelValue:r.formData.email,"onUpdate:modelValue":o[1]||(o[1]=i=>r.formData.email=i),label:"Email",type:"email",rules:r.emailRules,required:""},null,8,["modelValue","rules"]),e(n,{type:"submit",color:"primary",label:"Reset Password"}),y,D,e(b,{spaced:""}),e(c,{to:"/index/account/signin"},{default:t(()=>[e(n,{flat:"",color:"primary",label:"Sign in"})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})])}var U=f(R,[["render",v]]);export{U as default};
