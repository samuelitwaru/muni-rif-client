import{a as d,Q as C}from"./QBreadcrumbs.ff1c7fef.js";import{Q as V}from"./QSeparator.0d3a48de.js";import{Q as I}from"./QInput.04be3f9c.js";import{_ as B,aL as L,r as _,o,j as n,i as p,f as e,w as t,h as u,F as h,k as f,e as l,g,Q as y,t as Q,R as b,v as k}from"./index.7c80a85e.js";import{Q as q,a as i}from"./QItem.c1f7304d.js";import{Q as v}from"./QChip.09e5837f.js";import{Q as x}from"./QList.4e418ca6.js";import{Q as S}from"./QSpinnerIos.0acf9b20.js";import{Q as U}from"./QInnerLoading.ad7d4c25.js";import"./use-dark.5324e533.js";import"./use-key-composition.4b81e148.js";import"./use-split-attrs.e64b808b.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.fbba0995.js";import"./use-transition.8469f949.js";const $={name:"ApplicantProposalList",data(){return{loading:!1,proposals:[],teamProposals:[],search_query:""}},created(){L(this.$options.name),this.$userHasAnyGroups(["applicant"])&&this.getCurrentUserProposals()},methods:{getCurrentUserProposals(){this.loading=!0;var c=this.search_query?`&search=${this.search_query}`:"";this.$api.get(`proposals?user=${this.$authStore.currentUser.id}${c}`).then(a=>{this.proposals=a.data,this.loading=!1})}},watch:{search_query(c){this.getCurrentUserProposals()}}},N={class:"q-ma-md"},A={class:"flex justify-between text-h6 q-px-md"},F={class:"flex"},j={key:0,align:"center",style:{"margin-top":"10rem"}},D=p("p",null,"No proposals found",-1),E=[D];function H(c,a,M,R,r,P){const w=_("create-proposal-dialog"),m=_("router-link");return o(),n("div",null,[p("div",N,[e(C,null,{default:t(()=>[e(d,{icon:"home",to:"/",label:"Home"}),e(d,{label:"My Proposals",icon:"note"})]),_:1})]),e(V,{spaced:""}),p("h2",A,[u(" My Proposals "),p("div",F,[e(I,{dense:"",outlined:"",modelValue:r.search_query,"onUpdate:modelValue":a[0]||(a[0]=s=>r.search_query=s),type:"text",label:"Search",class:"q-mr-sm",onInput:a[1]||(a[1]=s=>P.getCurrentUserProposals())},null,8,["modelValue"]),e(w)])]),e(x,{bordered:"",class:"q-ma-sm"},{default:t(()=>[(o(!0),n(h,null,f(r.proposals,s=>(o(),l(m,{to:`proposals/${s.id}`,key:s.id},{default:t(()=>[g((o(),l(q,{clickable:""},{default:t(()=>[e(i,{avatar:""},{default:t(()=>[e(y,{color:"",name:"book"})]),_:1}),e(i,null,{default:t(()=>[u(Q(s.title),1)]),_:2},1024),e(v,{color:"secondary",class:"glossy",dense:"",label:s.status},null,8,["label"])]),_:2},1024)),[[b]])]),_:2},1032,["to"]))),128))]),_:1}),e(U,{showing:r.loading},{default:t(()=>[e(S,{size:"50px",color:"primary"})]),_:1},8,["showing"]),r.proposals.length==0?(o(),n("div",j,E)):k("",!0),r.teamProposals.length?(o(),l(x,{key:1,bordered:"",class:"q-ma-sm"},{default:t(()=>[(o(!0),n(h,null,f(r.teamProposals,s=>(o(),l(m,{to:`proposals/${s.id}`,key:s.id},{default:t(()=>[g((o(),l(q,{clickable:""},{default:t(()=>[e(i,{avatar:""},{default:t(()=>[e(y,{color:"",name:"book"})]),_:1}),e(i,null,{default:t(()=>[u(Q(s.title),1)]),_:2},1024),e(v,{color:"secondary",class:"glossy",dense:"",label:s.status},null,8,["label"])]),_:2},1024)),[[b]])]),_:2},1032,["to"]))),128))]),_:1})):k("",!0)])}var le=B($,[["render",H]]);export{le as default};
