import{Q,a as u}from"./QBreadcrumbs.c3e1ce91.js";import{Q as w}from"./QSeparator.d1f4a56a.js";import{Q as r}from"./QInput.d21a7e16.js";import{Q as d}from"./QSelect.ce14d8d4.js";import{Q as q}from"./QChip.91c2f2a3.js";import{Q as h}from"./QCardSection.2e3c7736.js";import{Q as y,a as C}from"./QItem.419ce596.js";import{Q as R}from"./QList.39042cc1.js";import{Q as f}from"./QCard.afc089a4.js";import{Q as k}from"./QPopupProxy.4a29f19b.js";import{_ as x,r as F,o as n,c as p,w as i,g as s,a as o,q as T,h as _,F as v,i as g,j as D,f as S,t as U}from"./index.542c6195.js";import{Q as B}from"./QForm.1332b4b2.js";import{Q as N}from"./QPage.3405bde5.js";import{g as L}from"./helpers.f4954f99.js";import"./use-dark.3250c496.js";import"./use-key-composition.13c30634.js";import"./use-split-attrs.44f15fb2.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./use-form.94504a9c.js";import"./QItemLabel.d3c0ae79.js";import"./QMenu.349a7bd2.js";import"./selection.8c192d65.js";import"./use-timeout.04e0df1e.js";import"./focusout.e24870b5.js";import"./use-transition.566a6544.js";import"./scroll.652ffd25.js";import"./QDialog.ccae1525.js";import"./use-prevent-scroll.f7d9b58d.js";import"./format.3e32b8d9.js";import"./auth.285be793.js";const P={name:"CreateReviewer",data(){return{loading:!1,showDialog:!1,faculties:[],qualifications:[],themes:[],formData:{email:"",first_name:"",last_name:"",phone:"",gender:"",designation:"",faculty:null,department:null,qualification:null,password:"",themes:[]}}},created(){this.getFaculties(),this.getQualifications(),this.getThemes()},methods:{createReviewer(){this.formData.username=this.formData.email,this.formData.is_active=!1,this.formData.password=L(10),this.$utilsStore.setLoading(!0),console.log(this.formData),this.$api.post("users/create-reviewer/",this.formData).then(a=>{this.$router.push("/reviewers/"),this.$utilsStore.setLoading(!1)})},getThemes(){this.$api.get("themes/").then(a=>{this.themes=a.data})},getFaculties(){this.$api.get("faculties/").then(a=>{this.faculties=a.data})},getQualifications(){this.$api.get("qualifications/").then(a=>{this.qualifications=a.data})},selectTheme(a){this.formData.themes.includes(a)?this.formData.themes.filter(t=>t!=a):this.formData.themes.push(a)},deselectTheme(a){this.formData.themes.includes(a)&&(this.formData.themes=this.formData.themes.filter(t=>t!=a))},cancelCreate(){this.showDialog=!1},setFormData(){this.formData={email:"",first_name:"",last_name:"",phone:"",gender:"",designation:"",faculty:null,department:null,qualification:null,password:"",themes:[]}}},watch:{showPopup(a,t){this.showDialog=a},showDialog(a,t){this.$emit("showPopupChanged",a)}}},E={class:"q-ma-md"},j={class:"flex justify-center"},z={class:"q-pa-md"},M={class:"row q-col-gutter-xs q-my-sm"},G={class:"col"},H={class:"col"},I={class:"row q-col-gutter-xs q-my-sm"},Y={class:"col"},A={class:"col"},J={class:"row q-col-gutter-xs q-my-sm"},K={class:"col"},O={class:"col"},W={class:"row q-col-gutter-xs"},X={class:"col"},Z={class:"col"},$={class:"q-my-sm"},ee=s("label",{for:""},"Themes",-1),te=s("div",{class:"text-h6"},"Select Themes",-1),le={class:"q-pa-md",align:"center"};function oe(a,t,ae,se,l,m){const V=F("radio-field");return n(),p(N,null,{default:i(()=>[s("div",E,[o(Q,null,{default:i(()=>[o(u,{icon:"home",to:"/",label:"Home"}),o(u,{icon:"people",to:"/reviewers",label:"Reviewers"}),o(u,{label:"Create New Reviewer",icon:"person"})]),_:1})]),o(w,{spaced:"",size:"0.5px"}),s("div",j,[o(f,{class:"my-card"},{default:i(()=>[o(B,{class:"q-gutter-md"},{default:i(()=>{var c;return[s("div",z,[s("div",M,[s("div",G,[o(r,{outlined:"",dense:"",modelValue:l.formData.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.formData.first_name=e),label:"First Name",rules:a.nameRules,required:""},null,8,["modelValue","rules"])]),s("div",H,[o(r,{outlined:"",dense:"",modelValue:l.formData.last_name,"onUpdate:modelValue":t[1]||(t[1]=e=>l.formData.last_name=e),label:"Last Name",rules:a.nameRules,required:""},null,8,["modelValue","rules"])])]),s("div",I,[s("div",Y,[o(r,{outlined:"",dense:"",modelValue:l.formData.email,"onUpdate:modelValue":t[2]||(t[2]=e=>l.formData.email=e),label:"Email",type:"email",rules:a.emailRules,required:""},null,8,["modelValue","rules"])]),s("div",A,[o(r,{outlined:"",dense:"",modelValue:l.formData.phone,"onUpdate:modelValue":t[3]||(t[3]=e=>l.formData.phone=e),label:"Telephone Number",type:"tel",rules:a.phoneRules,required:""},null,8,["modelValue","rules"])])]),o(V,{align:"left",label:"Gender",onInput:t[4]||(t[4]=e=>l.formData.gender=e),modelValue:l.formData.gender,"onUpdate:modelValue":t[5]||(t[5]=e=>l.formData.gender=e),options:[{label:"Male",value:"Male"},{label:"Female",value:"Female"}]},null,8,["modelValue"]),s("div",J,[s("div",K,[o(d,{outlined:"",dense:"",modelValue:l.formData.faculty,"onUpdate:modelValue":t[6]||(t[6]=e=>l.formData.faculty=e),options:l.faculties,"option-value":"id","option-label":"name",label:"Faculty","emit-value":"","map-options":""},null,8,["modelValue","options"])]),s("div",O,[o(d,{outlined:"",dense:"",modelValue:l.formData.department,"onUpdate:modelValue":t[7]||(t[7]=e=>l.formData.department=e),options:(c=this.faculties.find(e=>e.id===this.formData.faculty))==null?void 0:c.departments,"option-value":"id","option-label":"name",label:"Department","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),s("div",W,[s("div",X,[o(d,{dense:"",outlined:"",modelValue:l.formData.qualification,"onUpdate:modelValue":t[8]||(t[8]=e=>l.formData.qualification=e),options:l.qualifications,label:"Qualification","option-value":"id","option-label":"name","map-options":"","emit-value":""},null,8,["modelValue","options"])]),s("div",Z,[o(r,{outlined:"",dense:"",modelValue:l.formData.designation,"onUpdate:modelValue":t[9]||(t[9]=e=>l.formData.designation=e),label:"Your Designation",rules:a.nameRules,required:""},null,8,["modelValue","rules"])])]),s("div",$,[ee,o(f,{class:"row",flat:"",bordered:"",style:{"min-height":"4rem"}},{default:i(()=>[s("div",{class:T(["col-10 flex content-center",{"truncate-chip-labels":a.truncate}]),style:{"max-width":"400px"}},[(n(!0),_(v,null,g(l.themes.filter(e=>l.formData.themes.includes(e.id)),e=>(n(),p(q,{key:e.id,class:"glossy",label:e.title,removable:"",onRemove:b=>m.deselectTheme(e.id)},null,8,["label","onRemove"]))),128))],2),o(D,{class:"col-2",color:"primary",flat:"",icon:"add"},{default:i(()=>[o(k,{cover:"",breakpoint:1e3},{default:i(()=>[o(f,{class:"my-card"},{default:i(()=>[o(h,null,{default:i(()=>[te]),_:1}),o(h,null,{default:i(()=>[o(R,{bordered:"",separator:""},{default:i(()=>[(n(!0),_(v,null,g(l.themes.filter(e=>!l.formData.themes.includes(e.id)),e=>(n(),p(y,{style:{cursor:"pointer"},clickable:"",onClick:b=>m.selectTheme(e.id),key:e.id},{default:i(()=>[o(C,null,{default:i(()=>[S(U(e.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])]),s("div",le,[o(D,{color:"primary",label:"Confirm",onClick:m.createReviewer},null,8,["onClick"])])]}),_:1})]),_:1})])]),_:1})}var Pe=x(P,[["render",oe]]);export{Pe as default};
