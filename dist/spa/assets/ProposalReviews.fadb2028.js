import{Q as d}from"./QToolbarTitle.07383659.js";import{Q as p}from"./QMarkupTable.0526bcd7.js";import{_,r as h,o as r,j as o,f as i,i as a,w as u,h as m,F as f,k as g,t,v}from"./index.3ceec1d0.js";import"./use-dark.cdc1981a.js";const $={data(){return{scores:[],reviewers:[],loading:!1,formData:{user:null,email:null,proposal:this.$route.params.proposal_id}}},created(){this.getScores(),this.getReviewers()},methods:{getScores(){this.$api.get(`scores/?proposal=${this.$route.params.proposal_id}`).then(e=>{this.scores=e.data})},getReviewers(){this.$api.get("users/?groups__name__in=reviewer").then(e=>{this.reviewers=e.data})},createScore(){this.$utilsStore.setLoading(!0),this.$api.post("scores/",this.formData).then(e=>{e.status==201&&(this.getScores(),this.$utilsStore.setLoading(!1))})},deleteScore(e){confirm("Are you sure you would like to delete this reviewer?")&&(this.$utilsStore.setLoading(!0),this.$api.delete(`scores/${e}/`).then(l=>{l.status==204&&(this.getScores(),this.$utilsStore.setLoading(!1))}))}}},w={class:"q-pa-sm"},S={class:"text-left"},k={class:"text-left"},x={key:0,align:"center",class:"q-my-lg"};function y(e,l,L,N,n,b){const c=h("proposal-score-sheets");return r(),o("div",null,[i(c),a("div",w,[i(d,null,{default:u(()=>[m("Reviewers")]),_:1}),i(p,{flat:"",bordered:""},{default:u(()=>[a("tbody",null,[(r(!0),o(f,null,g(n.scores,s=>(r(),o("tr",{key:s.id},[a("td",S,t(s.user)+" - "+t(s.user__first_name)+" "+t(s.user__last_name)+" ["+t(s.user__username)+"] ",1),a("td",k,t(s.status),1)]))),128))])]),_:1}),n.scores.length?v("",!0):(r(),o("p",x," No reviewers found "))])])}var B=_($,[["render",y]]);export{B as default};
