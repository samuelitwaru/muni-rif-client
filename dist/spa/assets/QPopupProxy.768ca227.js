import{Q as P}from"./QDialog.f5d6fd89.js";import{f as x,j as y,Q}from"./QMenu.fcff140d.js";import{C as b,m as p,s as h,D as C,aa as j,z as k,B as M}from"./index.e39be684.js";var H=b({name:"QPopupProxy",props:{...x,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(n,{slots:f,emit:l,attrs:g}){const{proxy:r}=M(),{$q:c}=r,a=p(!1),t=p(null),i=h(()=>parseInt(n.breakpoint,10)),{canShow:v}=y({showing:a});function u(){return c.screen.width<i.value||c.screen.height<i.value?"dialog":"menu"}const o=p(u()),m=h(()=>o.value==="menu"?{maxHeight:"99vh"}:{});C(()=>u(),e=>{a.value!==!0&&(o.value=e)});function d(e){a.value=!0,l("show",e)}function w(e){a.value=!1,o.value=u(),l("hide",e)}return Object.assign(r,{show(e){v(e)===!0&&t.value.show(e)},hide(e){t.value.hide(e)},toggle(e){t.value.toggle(e)}}),j(r,"currentComponent",()=>({type:o.value,ref:t.value})),()=>{const e={ref:t,...m.value,...g,onShow:d,onHide:w};let s;return o.value==="dialog"?s=P:(s=Q,Object.assign(e,{target:n.target,contextMenu:n.contextMenu,noParentEvent:!0,separateClosePopup:!0})),k(s,e,f.default)}}});export{H as Q};
