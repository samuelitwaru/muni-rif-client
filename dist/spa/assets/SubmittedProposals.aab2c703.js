import{Q as be,a as ee}from"./QBreadcrumbs.b19fd224.js";import{Q as ye}from"./QSeparator.83216b34.js";import{Q as Se}from"./QSelect.579c5f13.js";import{Q as Pe}from"./QPopupProxy.ba2a8c84.js";import{m as D,y as we,p as h,a7 as ae,s as U,n as b,Q as G,g as Ce,R as xe,D as W,a1 as ke,aw as V,ab as qe,aG as Ae,ap as F,aH as z,z as te,G as H,ao as O,E as Qe,O as Te,aK as Re,I as R,aR as ue,V as Ie,W as Y,aS as ce,ai as Ve,q as $e,C as Be,_ as de,o as x,j as Q,f as _,w as P,e as M,l as T,v as De,F as $,k as B,i as g,h as K,t as k,r as se,aM as Ne,aN as Le}from"./index.0f8885c7.js";import{Q as Ee}from"./QChip.b65adbde.js";import{Q as Fe}from"./QMarkupTable.41f4edf6.js";import{Q as Ke}from"./QPage.85c5c640.js";import{Q as Ue,a as Me}from"./QItem.f049ce54.js";import{Q as We}from"./QList.23894480.js";import{g as re,s as ne}from"./touch.3df10340.js";import{c as je}from"./selection.b8edfbf0.js";import{u as pe}from"./use-cache.b0833c75.js";import{Q as ze}from"./QCard.d794ccaf.js";import{a as He,u as Oe}from"./use-dark.bcc088a8.js";import"./use-key-composition.aae50191.js";import"./use-split-attrs.e3da43a6.js";import"./uid.42677368.js";import"./focus-manager.b507780d.js";import"./QItemLabel.5e24b9e8.js";import"./QMenu.f6af5aab.js";import"./use-timeout.061c1800.js";import"./focusout.f9a6d6e8.js";import"./use-transition.39df4b09.js";import"./scroll.6c4c666f.js";import"./QDialog.bf3662cd.js";import"./use-prevent-scroll.500bb191.js";import"./use-form.c278e73c.js";import"./format.3e32b8d9.js";var Ye=D({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:s,emit:a}){let c=!1,n,t,r=null,i=null,o,f;function v(){n&&n(),n=null,c=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),t!==void 0&&t.removeEventListener("transitionend",o),o=null}function y(u,l,p){l!==void 0&&(u.style.height=`${l}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,n=p}function m(u,l){u.style.overflowY=null,u.style.height=null,u.style.transition=null,v(),l!==f&&a(l)}function C(u,l){let p=0;t=u,c===!0?(v(),p=u.offsetHeight===u.scrollHeight?0:void 0):(f="hide",u.style.overflowY="hidden"),y(u,p,l),r=setTimeout(()=>{r=null,u.style.height=`${u.scrollHeight}px`,o=w=>{i=null,(Object(w)!==w||w.target===u)&&m(u,"show")},u.addEventListener("transitionend",o),i=setTimeout(o,e.duration*1.1)},100)}function q(u,l){let p;t=u,c===!0?v():(f="show",u.style.overflowY="hidden",p=u.scrollHeight),y(u,p,l),r=setTimeout(()=>{r=null,u.style.height=0,o=w=>{i=null,(Object(w)!==w||w.target===u)&&m(u,"hide")},u.addEventListener("transitionend",o),i=setTimeout(o,e.duration*1.1)},100)}return we(()=>{c===!0&&v()}),()=>h(ae,{css:!1,appear:e.appear,onEnter:C,onLeave:q},s.default)}}),ve=D({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:s}){const{proxy:{$q:a}}=W(),c=U(null),n=b(()=>e.stepper.modelValue===e.step.name),t=b(()=>{const l=e.step.disable;return l===!0||l===""}),r=b(()=>{const l=e.step.error;return l===!0||l===""}),i=b(()=>{const l=e.step.done;return t.value===!1&&(l===!0||l==="")}),o=b(()=>{const l=e.step.headerNav,p=l===!0||l===""||l===void 0;return t.value===!1&&e.stepper.headerNav&&p}),f=b(()=>e.step.prefix&&(n.value===!1||e.stepper.activeIcon==="none")&&(r.value===!1||e.stepper.errorIcon==="none")&&(i.value===!1||e.stepper.doneIcon==="none")),v=b(()=>{const l=e.step.icon||e.stepper.inactiveIcon;if(n.value===!0){const p=e.step.activeIcon||e.stepper.activeIcon;return p==="none"?l:p||a.iconSet.stepper.active}if(r.value===!0){const p=e.step.errorIcon||e.stepper.errorIcon;return p==="none"?l:p||a.iconSet.stepper.error}if(t.value===!1&&i.value===!0){const p=e.step.doneIcon||e.stepper.doneIcon;return p==="none"?l:p||a.iconSet.stepper.done}return l}),y=b(()=>{const l=r.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(n.value===!0){const p=e.step.activeColor||e.stepper.activeColor||e.step.color;return p!==void 0?p:l}return l!==void 0?l:t.value===!1&&i.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),m=b(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(y.value!==void 0?` text-${y.value}`:"")+(r.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(f.value===!0?"prefix":"icon"):"")+(n.value===!0?" q-stepper__tab--active":"")+(i.value===!0?" q-stepper__tab--done":"")+(o.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),C=b(()=>e.stepper.headerNav!==!0?!1:o.value);function q(){c.value!==null&&c.value.focus(),n.value===!1&&e.goToPanel(e.step.name)}function u(l){l.keyCode===13&&n.value===!1&&e.goToPanel(e.step.name)}return()=>{const l={class:m.value};o.value===!0&&(l.onClick=q,l.onKeyup=u,Object.assign(l,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:s.tabindex||0}));const p=[h("div",{class:"q-focus-helper",tabindex:-1,ref:c}),h("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[h("span",{class:"row flex-center"},[f.value===!0?e.step.prefix:h(G,{name:v.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const w=[h("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&w.push(h("div",{class:"q-stepper__caption"},e.step.caption)),p.push(h("div",{class:"q-stepper__label q-stepper__line relative-position"},w))}return Ce(h("div",l,p),[[xe,C.value]])}}});function Ge(e){const s=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,c)=>{const n=parseFloat(a);n&&(s[c]=n)}),s}var Xe=ke({name:"touch-swipe",beforeMount(e,{value:s,arg:a,modifiers:c}){if(c.mouse!==!0&&V.has.touch!==!0)return;const n=c.mouseCapture===!0?"Capture":"",t={handler:s,sensitivity:Ge(a),direction:re(c),noop:qe,mouseStart(r){ne(r,t)&&Ae(r)&&(F(t,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(r,!0))},touchStart(r){if(ne(r,t)){const i=r.target;F(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),t.start(r)}},start(r,i){V.is.firefox===!0&&z(e,!0);const o=te(r);t.event={x:o.left,y:o.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(t.event===void 0)return;if(t.event.dir!==!1){H(r);return}const i=Date.now()-t.event.time;if(i===0)return;const o=te(r),f=o.left-t.event.x,v=Math.abs(f),y=o.top-t.event.y,m=Math.abs(y);if(t.event.mouse!==!0){if(v<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(r);return}}else if(window.getSelection().toString()!==""){t.end(r);return}else if(v<t.sensitivity[2]&&m<t.sensitivity[2])return;const C=v/i,q=m/i;t.direction.vertical===!0&&v<m&&v<100&&q>t.sensitivity[0]&&(t.event.dir=y<0?"up":"down"),t.direction.horizontal===!0&&v>m&&m<100&&C>t.sensitivity[0]&&(t.event.dir=f<0?"left":"right"),t.direction.up===!0&&v<m&&y<0&&v<100&&q>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&v<m&&y>0&&v<100&&q>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&v>m&&f<0&&m<100&&C>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&v>m&&f>0&&m<100&&C>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(H(r),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),je(),t.styleCleanup=u=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const l=()=>{document.body.classList.remove("no-pointer-events--children")};u===!0?setTimeout(l,50):l()}),t.handler({evt:r,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:i,distance:{x:v,y:m}})):t.end(r)},end(r){t.event!==void 0&&(O(t,"temp"),V.is.firefox===!0&&z(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),r!==void 0&&t.event.dir!==!1&&H(r),t.event=void 0)}};if(e.__qtouchswipe=t,c.mouse===!0){const r=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";F(t,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}V.has.touch===!0&&F(t,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,s){const a=e.__qtouchswipe;a!==void 0&&(s.oldValue!==s.value&&(typeof s.value!="function"&&a.end(),a.handler=s.value),a.direction=re(s.modifiers))},beforeUnmount(e){const s=e.__qtouchswipe;s!==void 0&&(O(s,"main"),O(s,"temp"),V.is.firefox===!0&&z(e,!1),s.styleCleanup!==void 0&&s.styleCleanup(),delete e.__qtouchswipe)}});const Je={name:{required:!0},disable:Boolean},oe={setup(e,{slots:s}){return()=>h("div",{class:"q-panel scroll",role:"tabpanel"},R(s.default))}},Ze={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},et=["update:modelValue","beforeTransition","transition"];function tt(){const{props:e,emit:s,proxy:a}=W(),{getCacheWithFn:c}=pe();let n,t;const r=U(null),i=U(null);function o(d){const S=e.vertical===!0?"up":"left";I((a.$q.lang.rtl===!0?-1:1)*(d.direction===S?1:-1))}const f=b(()=>[[Xe,o,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=b(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=b(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=b(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=b(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),q=b(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),u=b(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Qe(()=>e.modelValue,(d,S)=>{const A=L(d)===!0?j(d):-1;t!==!0&&X(A===-1?0:A<j(S)?-1:1),r.value!==A&&(r.value=A,s("beforeTransition",d,S),Te(()=>{s("transition",d,S)}))});function l(){I(1)}function p(){I(-1)}function w(d){s("update:modelValue",d)}function L(d){return d!=null&&d!==""}function j(d){return n.findIndex(S=>S.props.name===d&&S.props.disable!==""&&S.props.disable!==!0)}function me(){return n.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function X(d){const S=d!==0&&e.animated===!0&&r.value!==-1?"q-transition--"+(d===-1?v.value:y.value):null;i.value!==S&&(i.value=S)}function I(d,S=r.value){let A=S+d;for(;A>-1&&A<n.length;){const E=n[A];if(E!==void 0&&E.props.disable!==""&&E.props.disable!==!0){X(d),t=!0,s("update:modelValue",E.props.name),setTimeout(()=>{t=!1});return}A+=d}e.infinite===!0&&n.length!==0&&S!==-1&&S!==n.length&&I(d,d===-1?n.length:-1)}function J(){const d=j(e.modelValue);return r.value!==d&&(r.value=d),!0}function Z(){const d=L(e.modelValue)===!0&&J()&&n[r.value];return e.keepAlive===!0?[h(ue,q.value,[h(u.value===!0?c(C.value,()=>({...oe,name:C.value})):oe,{key:C.value,style:m.value},()=>d)])]:[h("div",{class:"q-panel scroll",style:m.value,key:C.value,role:"tabpanel"},[d])]}function he(){if(n.length!==0)return e.animated===!0?[h(ae,{name:i.value},Z)]:Z()}function ge(d){return n=Re(R(d.default,[])).filter(S=>S.props!==null&&S.props.slot===void 0&&L(S.props.name)===!0),n.length}function _e(){return n}return Object.assign(a,{next:l,previous:p,goTo:w}),{panelIndex:r,panelDirectives:f,updatePanelsList:ge,updatePanelIndex:J,getPanelContent:he,getEnabledPanels:me,getPanels:_e,isValidPanelName:L,keepAliveProps:q,needsUniqueKeepAliveWrapper:u,goToPanelByOffset:I,goToPanel:w,nextPanel:l,previousPanel:p}}function fe(e){return h("div",{class:"q-stepper__step-content"},[h("div",{class:"q-stepper__step-inner"},R(e.default))])}const le={setup(e,{slots:s}){return()=>fe(s)}};var ie=D({name:"QStep",props:{...Je,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:s,emit:a}){const{proxy:{$q:c}}=W(),n=Ie(ce,Y);if(n===Y)return console.error("QStep needs to be a child of QStepper"),Y;const{getCacheWithFn:t}=pe(),r=U(null),i=b(()=>n.value.modelValue===e.name),o=b(()=>c.platform.is.ios!==!0&&c.platform.is.chrome===!0||i.value!==!0||n.value.vertical!==!0?{}:{onScroll(y){const{target:m}=y;m.scrollTop>0&&(m.scrollTop=0),e.onScroll!==void 0&&a("scroll",y)}}),f=b(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function v(){const y=n.value.vertical;return y===!0&&n.value.keepAlive===!0?h(ue,n.value.keepAliveProps.value,i.value===!0?[h(n.value.needsUniqueKeepAliveWrapper.value===!0?t(f.value,()=>({...le,name:f.value})):le,{key:f.value},s.default)]:void 0):y!==!0||i.value===!0?fe(s):void 0}return()=>h("div",{ref:r,class:"q-stepper__step",role:"tabpanel",...o.value},n.value.vertical===!0?[h(ve,{stepper:n.value,step:e,goToPanel:n.value.goToPanel}),n.value.animated===!0?h(Ye,v):v()]:[v()])}}),st=D({name:"QStepperNavigation",setup(e,{slots:s}){return()=>h("div",{class:"q-stepper__nav"},R(s.default))}});const rt=/(-\w)/g;function nt(e){const s={};for(const a in e){const c=a.replace(rt,n=>n[1].toUpperCase());s[c]=e[a]}return s}var ot=D({name:"QStepper",props:{...He,...Ze,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:et,setup(e,{slots:s}){const a=W(),c=Oe(e,a.proxy.$q),{updatePanelsList:n,isValidPanelName:t,updatePanelIndex:r,getPanelContent:i,getPanels:o,panelDirectives:f,goToPanel:v,keepAliveProps:y,needsUniqueKeepAliveWrapper:m}=tt();Ve(ce,b(()=>({goToPanel:v,keepAliveProps:y,needsUniqueKeepAliveWrapper:m,...e})));const C=b(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(c.value===!0?" q-stepper--dark q-dark":"")),q=b(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function u(){const l=R(s.message,[]);if(e.vertical===!0){t(e.modelValue)&&r();const p=h("div",{class:"q-stepper__content"},R(s.default));return l===void 0?[p]:l.concat(p)}return[h("div",{class:q.value},o().map(p=>{const w=nt(p.props);return h(ve,{key:w.name,stepper:e,step:w,goToPanel:v})})),l,Be("div",{class:"q-stepper__content q-panel-parent"},i(),"cont",e.swipeable,()=>f.value)]}return()=>(n(s),h("div",{class:C.value},$e(s.navigation,u())))}});const lt={props:["reviewers"],name:"AssignReviewers",data(){return{step:1,selectedReviewers:[]}},methods:{next(){this.step==2?this.$emit("reviewers-selected",this.selectedReviewers):this.$refs.stepper.next()},selectReviewer(e){this.selectedReviewers.includes(e)?this.selectedReviewers=this.selectedReviewers.filter(s=>s!=e):this.selectedReviewers.push(e)}}},it={style:{height:"500px"}},at=["checked"];function ut(e,s,a,c,n,t){return x(),Q("div",it,[_(ot,{modelValue:n.step,"onUpdate:modelValue":s[1]||(s[1]=r=>n.step=r),ref:"stepper",color:"primary",animated:""},{navigation:P(()=>[_(st,{align:"right"},{default:P(()=>[n.step>1?(x(),M(T,{key:0,flat:"",color:"primary",onClick:s[0]||(s[0]=r=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):De("",!0),_(T,{onClick:t.next,disabled:n.selectedReviewers.length==0,color:"primary",label:n.step===2?"Finish":"Continue"},null,8,["onClick","disabled","label"])]),_:1})]),default:P(()=>[_(ie,{name:1,title:"Select Reviewers",icon:"settings",done:n.step>1},{default:P(()=>[_(We,{bordered:"",class:"",style:{width:"500px","max-height":"280px","overflow-y":"auto"}},{default:P(()=>[(x(!0),Q($,null,B(a.reviewers,r=>(x(),M(Ue,{onClick:i=>t.selectReviewer(r.id),clickable:"",active:n.selectedReviewers.includes(r.id),key:r.id},{default:P(()=>[g("input",{class:"q-ma-sm",type:"checkbox",checked:n.selectedReviewers.includes(r.id)},null,8,at),_(Me,null,{default:P(()=>[K(k(r.first_name)+" "+k(r.last_name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1},8,["done"]),_(ie,{name:2,title:"Invite Reviewers",icon:"create_new_folder",done:n.step>2},{default:P(()=>[g("p",null,[_(G,{name:"info",size:"md"}),K(" An email invitation will be sent to each of the selected reviewers ")]),_(ze,{class:"my-card",style:{width:"500px",height:"250px","overflow-y":"auto"},flat:"",bordered:""},{default:P(()=>[g("ul",null,[(x(!0),Q($,null,B(a.reviewers.filter(r=>n.selectedReviewers.includes(r.id)),r=>(x(),Q("li",{key:r.id},[K(k(r.first_name)+" "+k(r.last_name)+" ("+k(r.email)+") ",1),g("ul",null,[(x(!0),Q($,null,B(r.profile.themes,i=>(x(),Q("li",{key:i.id},k(i.theme_title),1))),128))])]))),128))])]),_:1})]),_:1},8,["done"])]),_:1},8,["modelValue"])])}var ct=de(lt,[["render",ut]]);const dt={components:{AssignReviewers2:ct},name:"ReviewerList",data(){return{show:!1,formData:{theme:null,exclude__status:"EDITING",call:this.$dataStore.currentCall.id},proposals:[],themes:[],selectedProposals:[],selectedProposal:null,allSelected:!1}},created(){this.getProposals(),this.getThemes(),this.getReviewers()},methods:{getProposals(){var e=this.$buildURLQuery(this.formData);this.$api.get(`proposals/?${e}`).then(s=>{this.proposals=s.data,this.getProposalScores()})},getThemes(){this.$api.get("themes/").then(e=>{this.themes=e.data})},getReviewers(){var e=this.$buildURLQuery({themes__in:this.formData.theme});this.$api.get(`users/?${e}&groups__name__in=reviewer`).then(s=>{this.reviewers=s.data})},getProposalScores(){for(let e=0;e<this.proposals.length;e++){const s=this.proposals[e];this.$api.get(`scores/?proposal=${s.id}`).then(a=>{this.proposals[e].scores=a.data})}},createScores(e){this.$utilsStore.setLoading(!0);const s=e.length*this.selectedProposals.length;let a=0;for(let c=0;c<e.length;c++){const n=e[c],t=this.reviewers.find(r=>r.id==n).email;for(let r=0;r<this.selectedProposals.length;r++){const i=this.selectedProposals[r];this.$api.post("scores/",{proposal:i,email:t,user:n}).then(o=>{a+=1,o.status==201&&console.log("done >> "+n+", "+i),a==s&&(this.$utilsStore.setLoading(!1),this.getProposalScores())}).catch(o=>{a+=1,a==s&&(this.$utilsStore.setLoading(!1),this.getProposalScores())})}}},deleteScore(e){confirm("Are you sure you would like to delete this reviewer?")&&(this.$utilsStore.setLoading(!0),this.$api.delete(`scores/${e}/`).then(s=>{s.status==204&&(this.getProposalScores(),this.$utilsStore.setLoading(!1))}))},selectProposal(e){this.selectedProposals.includes(e)?this.selectedProposals=this.selectedProposals.filter(s=>s!=e):this.selectedProposals.push(e),this.selectedProposals.length==this.proposals.length&&(this.allSelected=!0)},selectProposal2(e){this.selectAllProposals=[],this.selectedProposals.push(e),this.selectedProposal=e,this.show=!0},selectAllProposals(e){e.target.checked?this.selectedProposals=this.proposals.map(s=>s.id):this.selectedProposals=[]}}},N=e=>(Ne("data-v-448eeb3e"),e=e(),Le(),e),pt={class:"q-ma-md"},vt={align:"right",class:"q-ma-sm row"},ft={class:"col"},mt={class:"col"},ht={align:"left"},gt=["checked"],_t=N(()=>g("th",{align:"left"},"Title",-1)),bt=N(()=>g("th",{align:"left"},"Date Submitted",-1)),yt=N(()=>g("th",{align:"left"},"PI",-1)),St=N(()=>g("th",{align:"left"},"Status",-1)),Pt=N(()=>g("th",{align:"left"},null,-1)),wt=["checked","onClick"];function Ct(e,s,a,c,n,t){const r=se("AssignReviewers2"),i=se("router-link");return x(),M(Ke,null,{default:P(()=>[g("div",pt,[_(be,null,{default:P(()=>[_(ee,{icon:"home",to:"/",label:"Home"}),_(ee,{label:"Submitted Proposals",icon:"list"})]),_:1})]),_(ye,{spaced:""}),g("div",vt,[g("div",ft,[_(Se,{modelValue:n.formData.theme,"onUpdate:modelValue":[s[0]||(s[0]=o=>n.formData.theme=o),s[1]||(s[1]=o=>{t.getProposals(),t.getReviewers()})],dense:"",outlined:"",options:[{id:null,title:"All"}].concat(n.themes),label:"Select Theme","option-value":"id","option-label":"title","map-options":"","emit-value":""},null,8,["modelValue","options"])]),g("div",mt,[_(T,{color:"primary",label:"Assign Reviewers",disabled:n.selectedProposals.length==0},{default:P(()=>[_(Pe,{modelValue:n.show,"onUpdate:modelValue":s[3]||(s[3]=o=>n.show=o),breakpoint:1e3},{default:P(()=>[_(r,{reviewers:e.reviewers,onReviewersSelected:s[2]||(s[2]=o=>{t.createScores(o),n.show=!1})},null,8,["reviewers"])]),_:1},8,["modelValue"])]),_:1},8,["disabled"]),_(i,{to:"/go/proposals/reviewed"},{default:P(()=>[_(T,{color:"primary",flat:"",label:"Go To Reviews",class:"q-mr-sm"})]),_:1})])]),_(Fe,{class:"q-ma-sm",flat:"",bordered:""},{default:P(()=>[g("thead",null,[g("tr",null,[g("th",ht,[g("input",{checked:n.allSelected,type:"checkbox",onClick:s[4]||(s[4]=o=>t.selectAllProposals(o))},null,8,gt)]),_t,bt,yt,St,Pt])]),g("tbody",null,[(x(!0),Q($,null,B(n.proposals,o=>(x(),Q("tr",{key:o.id},[g("td",null,[g("input",{checked:n.selectedProposals.includes(o.id),type:"checkbox",onClick:f=>t.selectProposal(o.id)},null,8,wt)]),g("td",null,k(o.title),1),g("td",null,k(o.submission_date),1),g("td",null,k(o.user__first_name)+" "+k(o.user__last_name),1),g("td",null,k(o.status),1),g("td",null,[_(i,{to:`/proposals/${o.id}`},{default:P(()=>[_(T,{label:"View",flat:"",color:"primary"})]),_:2},1032,["to"]),_(T,{onClick:f=>t.selectProposal2(o.id),label:"Assign Reviewers",flat:"",color:"primary"},null,8,["onClick"]),(x(!0),Q($,null,B(o.scores,f=>(x(),M(Ee,{key:f.id},{default:P(()=>[K(k(f.user__first_name)+" "+k(f.user__last_name)+" ",1),_(G,{name:"delete",onClick:v=>t.deleteScore(f.id),class:"cursor-pointer"},null,8,["onClick"])]),_:2},1024))),128))])]))),128))])]),_:1})]),_:1})}var es=de(dt,[["render",Ct],["__scopeId","data-v-448eeb3e"]]);export{es as default};
