import{Q as ye,a as Z}from"./QBreadcrumbs.fe6ab351.js";import{Q as Se}from"./QSeparator.b2724df3.js";import{Q as ie}from"./QSelect.8a65f9ef.js";import{Q as Pe}from"./QPopupProxy.6396de39.js";import{k as D,v as we,m as g,a5 as ae,p as U,l as _,Q as ue,e as Ce,R as xe,B as M,$ as ke,au as $,a9 as qe,aE as Ae,an as E,aF as W,x as ee,D as z,am as H,C as Qe,M as Te,aI as Ie,G as T,aO as ce,T as Re,U as O,aP as de,ag as $e,n as Ve,A as Be,_ as pe,o as x,h as Q,a as b,w,c as F,j as K,s as De,F as V,i as B,f as Y,t as q,g as f,r as te,aJ as Ne,aK as Le}from"./index.9b6d8f02.js";import{Q as Ee}from"./QChip.4ed0a923.js";import{Q as Ue}from"./QMarkupTable.e680a5a9.js";import{Q as Fe}from"./QPage.22df8bb6.js";import{Q as Ke,a as Me}from"./QItem.7adbf461.js";import{Q as je}from"./QList.afbd39be.js";import{g as ne,s as se}from"./touch.3df10340.js";import{c as We}from"./selection.cce177a4.js";import{u as ve}from"./use-cache.b0833c75.js";import{Q as ze}from"./QCard.4957859e.js";import{a as He,u as Oe}from"./use-dark.8dc51c8e.js";import"./use-key-composition.cd9c2a48.js";import"./uid.9faae8c0.js";import"./focus-manager.b507780d.js";import"./QItemLabel.ba99c664.js";import"./QMenu.61fa0658.js";import"./use-timeout.da7d71c6.js";import"./focusout.e24e3d1a.js";import"./portal.127dfe2c.js";import"./use-transition.8872bac2.js";import"./scroll.18b40ccd.js";import"./QDialog.3343fb4c.js";import"./use-prevent-scroll.149239bb.js";import"./use-form.33fd784e.js";import"./format.3e32b8d9.js";var Ye=D({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:n,emit:a}){let c=!1,r,t,s=null,i=null,o,m;function v(){r&&r(),r=null,c=!1,s!==null&&(clearTimeout(s),s=null),i!==null&&(clearTimeout(i),i=null),t!==void 0&&t.removeEventListener("transitionend",o),o=null}function y(u,l,p){l!==void 0&&(u.style.height=`${l}px`),u.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,c=!0,r=p}function h(u,l){u.style.overflowY=null,u.style.height=null,u.style.transition=null,v(),l!==m&&a(l)}function C(u,l){let p=0;t=u,c===!0?(v(),p=u.offsetHeight===u.scrollHeight?0:void 0):(m="hide",u.style.overflowY="hidden"),y(u,p,l),s=setTimeout(()=>{s=null,u.style.height=`${u.scrollHeight}px`,o=P=>{i=null,(Object(P)!==P||P.target===u)&&h(u,"show")},u.addEventListener("transitionend",o),i=setTimeout(o,e.duration*1.1)},100)}function k(u,l){let p;t=u,c===!0?v():(m="show",u.style.overflowY="hidden",p=u.scrollHeight),y(u,p,l),s=setTimeout(()=>{s=null,u.style.height=0,o=P=>{i=null,(Object(P)!==P||P.target===u)&&h(u,"hide")},u.addEventListener("transitionend",o),i=setTimeout(o,e.duration*1.1)},100)}return we(()=>{c===!0&&v()}),()=>g(ae,{css:!1,appear:e.appear,onEnter:C,onLeave:k},n.default)}}),fe=D({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:a}}=M(),c=U(null),r=_(()=>e.stepper.modelValue===e.step.name),t=_(()=>{const l=e.step.disable;return l===!0||l===""}),s=_(()=>{const l=e.step.error;return l===!0||l===""}),i=_(()=>{const l=e.step.done;return t.value===!1&&(l===!0||l==="")}),o=_(()=>{const l=e.step.headerNav,p=l===!0||l===""||l===void 0;return t.value===!1&&e.stepper.headerNav&&p}),m=_(()=>e.step.prefix&&(r.value===!1||e.stepper.activeIcon==="none")&&(s.value===!1||e.stepper.errorIcon==="none")&&(i.value===!1||e.stepper.doneIcon==="none")),v=_(()=>{const l=e.step.icon||e.stepper.inactiveIcon;if(r.value===!0){const p=e.step.activeIcon||e.stepper.activeIcon;return p==="none"?l:p||a.iconSet.stepper.active}if(s.value===!0){const p=e.step.errorIcon||e.stepper.errorIcon;return p==="none"?l:p||a.iconSet.stepper.error}if(t.value===!1&&i.value===!0){const p=e.step.doneIcon||e.stepper.doneIcon;return p==="none"?l:p||a.iconSet.stepper.done}return l}),y=_(()=>{const l=s.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(r.value===!0){const p=e.step.activeColor||e.stepper.activeColor||e.step.color;return p!==void 0?p:l}return l!==void 0?l:t.value===!1&&i.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),h=_(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(y.value!==void 0?` text-${y.value}`:"")+(s.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(m.value===!0?"prefix":"icon"):"")+(r.value===!0?" q-stepper__tab--active":"")+(i.value===!0?" q-stepper__tab--done":"")+(o.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),C=_(()=>e.stepper.headerNav!==!0?!1:o.value);function k(){c.value!==null&&c.value.focus(),r.value===!1&&e.goToPanel(e.step.name)}function u(l){l.keyCode===13&&r.value===!1&&e.goToPanel(e.step.name)}return()=>{const l={class:h.value};o.value===!0&&(l.onClick=k,l.onKeyup=u,Object.assign(l,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const p=[g("div",{class:"q-focus-helper",tabindex:-1,ref:c}),g("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[g("span",{class:"row flex-center"},[m.value===!0?e.step.prefix:g(ue,{name:v.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const P=[g("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&P.push(g("div",{class:"q-stepper__caption"},e.step.caption)),p.push(g("div",{class:"q-stepper__label q-stepper__line relative-position"},P))}return Ce(g("div",l,p),[[xe,C.value]])}}});function Xe(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,c)=>{const r=parseFloat(a);r&&(n[c]=r)}),n}var Ge=ke({name:"touch-swipe",beforeMount(e,{value:n,arg:a,modifiers:c}){if(c.mouse!==!0&&$.has.touch!==!0)return;const r=c.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:Xe(a),direction:ne(c),noop:qe,mouseStart(s){se(s,t)&&Ae(s)&&(E(t,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(s,!0))},touchStart(s){if(se(s,t)){const i=s.target;E(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),t.start(s)}},start(s,i){$.is.firefox===!0&&W(e,!0);const o=ee(s);t.event={x:o.left,y:o.top,time:Date.now(),mouse:i===!0,dir:!1}},move(s){if(t.event===void 0)return;if(t.event.dir!==!1){z(s);return}const i=Date.now()-t.event.time;if(i===0)return;const o=ee(s),m=o.left-t.event.x,v=Math.abs(m),y=o.top-t.event.y,h=Math.abs(y);if(t.event.mouse!==!0){if(v<t.sensitivity[1]&&h<t.sensitivity[1]){t.end(s);return}}else if(window.getSelection().toString()!==""){t.end(s);return}else if(v<t.sensitivity[2]&&h<t.sensitivity[2])return;const C=v/i,k=h/i;t.direction.vertical===!0&&v<h&&v<100&&k>t.sensitivity[0]&&(t.event.dir=y<0?"up":"down"),t.direction.horizontal===!0&&v>h&&h<100&&C>t.sensitivity[0]&&(t.event.dir=m<0?"left":"right"),t.direction.up===!0&&v<h&&y<0&&v<100&&k>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&v<h&&y>0&&v<100&&k>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&v>h&&m<0&&h<100&&C>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&v>h&&m>0&&h<100&&C>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(z(s),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),We(),t.styleCleanup=u=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const l=()=>{document.body.classList.remove("no-pointer-events--children")};u===!0?setTimeout(l,50):l()}),t.handler({evt:s,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:i,distance:{x:v,y:h}})):t.end(s)},end(s){t.event!==void 0&&(H(t,"temp"),$.is.firefox===!0&&W(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),s!==void 0&&t.event.dir!==!1&&z(s),t.event=void 0)}};if(e.__qtouchswipe=t,c.mouse===!0){const s=c.mouseCapture===!0||c.mousecapture===!0?"Capture":"";E(t,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}$.has.touch===!0&&E(t,"main",[[e,"touchstart","touchStart",`passive${c.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const a=e.__qtouchswipe;a!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&a.end(),a.handler=n.value),a.direction=ne(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(H(n,"main"),H(n,"temp"),$.is.firefox===!0&&W(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});const Je={name:{required:!0},disable:Boolean},re={setup(e,{slots:n}){return()=>g("div",{class:"q-panel scroll",role:"tabpanel"},T(n.default))}},Ze={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},et=["update:modelValue","beforeTransition","transition"];function tt(){const{props:e,emit:n,proxy:a}=M(),{getCacheWithFn:c}=ve();let r,t;const s=U(null),i=U(null);function o(d){const S=e.vertical===!0?"up":"left";R((a.$q.lang.rtl===!0?-1:1)*(d.direction===S?1:-1))}const m=_(()=>[[Ge,o,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),v=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),y=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),h=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),C=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),k=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),u=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Qe(()=>e.modelValue,(d,S)=>{const A=N(d)===!0?j(d):-1;t!==!0&&X(A===-1?0:A<j(S)?-1:1),s.value!==A&&(s.value=A,n("beforeTransition",d,S),Te(()=>{n("transition",d,S)}))});function l(){R(1)}function p(){R(-1)}function P(d){n("update:modelValue",d)}function N(d){return d!=null&&d!==""}function j(d){return r.findIndex(S=>S.props.name===d&&S.props.disable!==""&&S.props.disable!==!0)}function he(){return r.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function X(d){const S=d!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(d===-1?v.value:y.value):null;i.value!==S&&(i.value=S)}function R(d,S=s.value){let A=S+d;for(;A>-1&&A<r.length;){const L=r[A];if(L!==void 0&&L.props.disable!==""&&L.props.disable!==!0){X(d),t=!0,n("update:modelValue",L.props.name),setTimeout(()=>{t=!1});return}A+=d}e.infinite===!0&&r.length!==0&&S!==-1&&S!==r.length&&R(d,d===-1?r.length:-1)}function G(){const d=j(e.modelValue);return s.value!==d&&(s.value=d),!0}function J(){const d=N(e.modelValue)===!0&&G()&&r[s.value];return e.keepAlive===!0?[g(ce,k.value,[g(u.value===!0?c(C.value,()=>({...re,name:C.value})):re,{key:C.value,style:h.value},()=>d)])]:[g("div",{class:"q-panel scroll",style:h.value,key:C.value,role:"tabpanel"},[d])]}function ge(){if(r.length!==0)return e.animated===!0?[g(ae,{name:i.value},J)]:J()}function _e(d){return r=Ie(T(d.default,[])).filter(S=>S.props!==null&&S.props.slot===void 0&&N(S.props.name)===!0),r.length}function be(){return r}return Object.assign(a,{next:l,previous:p,goTo:P}),{panelIndex:s,panelDirectives:m,updatePanelsList:_e,updatePanelIndex:G,getPanelContent:ge,getEnabledPanels:he,getPanels:be,isValidPanelName:N,keepAliveProps:k,needsUniqueKeepAliveWrapper:u,goToPanelByOffset:R,goToPanel:P,nextPanel:l,previousPanel:p}}function me(e){return g("div",{class:"q-stepper__step-content"},[g("div",{class:"q-stepper__step-inner"},T(e.default))])}const oe={setup(e,{slots:n}){return()=>me(n)}};var le=D({name:"QStep",props:{...Je,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:a}){const{proxy:{$q:c}}=M(),r=Re(de,O);if(r===O)return console.error("QStep needs to be a child of QStepper"),O;const{getCacheWithFn:t}=ve(),s=U(null),i=_(()=>r.value.modelValue===e.name),o=_(()=>c.platform.is.ios!==!0&&c.platform.is.chrome===!0||i.value!==!0||r.value.vertical!==!0?{}:{onScroll(y){const{target:h}=y;h.scrollTop>0&&(h.scrollTop=0),e.onScroll!==void 0&&a("scroll",y)}}),m=_(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function v(){const y=r.value.vertical;return y===!0&&r.value.keepAlive===!0?g(ce,r.value.keepAliveProps.value,i.value===!0?[g(r.value.needsUniqueKeepAliveWrapper.value===!0?t(m.value,()=>({...oe,name:m.value})):oe,{key:m.value},n.default)]:void 0):y!==!0||i.value===!0?me(n):void 0}return()=>g("div",{ref:s,class:"q-stepper__step",role:"tabpanel",...o.value},r.value.vertical===!0?[g(fe,{stepper:r.value,step:e,goToPanel:r.value.goToPanel}),r.value.animated===!0?g(Ye,v):v()]:[v()])}}),nt=D({name:"QStepperNavigation",setup(e,{slots:n}){return()=>g("div",{class:"q-stepper__nav"},T(n.default))}});const st=/(-\w)/g;function rt(e){const n={};for(const a in e){const c=a.replace(st,r=>r[1].toUpperCase());n[c]=e[a]}return n}var ot=D({name:"QStepper",props:{...He,...Ze,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:et,setup(e,{slots:n}){const a=M(),c=Oe(e,a.proxy.$q),{updatePanelsList:r,isValidPanelName:t,updatePanelIndex:s,getPanelContent:i,getPanels:o,panelDirectives:m,goToPanel:v,keepAliveProps:y,needsUniqueKeepAliveWrapper:h}=tt();$e(de,_(()=>({goToPanel:v,keepAliveProps:y,needsUniqueKeepAliveWrapper:h,...e})));const C=_(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(c.value===!0?" q-stepper--dark q-dark":"")),k=_(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function u(){const l=T(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&s();const p=g("div",{class:"q-stepper__content"},T(n.default));return l===void 0?[p]:l.concat(p)}return[g("div",{class:k.value},o().map(p=>{const P=rt(p.props);return g(fe,{key:P.name,stepper:e,step:P,goToPanel:v})})),l,Be("div",{class:"q-stepper__content q-panel-parent"},i(),"cont",e.swipeable,()=>m.value)]}return()=>(r(n),g("div",{class:C.value},Ve(n.navigation,u())))}});const lt={props:["reviewers"],name:"AssignReviewers",data(){return{step:1,selectedReviewers:[]}},methods:{next(){this.step==2?this.$emit("reviewers-selected",this.selectedReviewers):this.$refs.stepper.next()},selectReviewer(e){this.selectedReviewers.includes(e)?this.selectedReviewers=this.selectedReviewers.filter(n=>n!=e):this.selectedReviewers.push(e)}}},it={style:{height:"500px"}};function at(e,n,a,c,r,t){return x(),Q("div",it,[b(ot,{modelValue:r.step,"onUpdate:modelValue":n[2]||(n[2]=s=>r.step=s),ref:"stepper",color:"primary",animated:""},{navigation:w(()=>[b(nt,{align:"right"},{default:w(()=>[r.step>1?(x(),F(K,{key:0,flat:"",color:"primary",onClick:n[1]||(n[1]=s=>e.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):De("",!0),b(K,{onClick:t.next,color:"primary",label:r.step===2?"Finish":"Continue"},null,8,["onClick","label"])]),_:1})]),default:w(()=>[b(ie,{modelValue:e.model,"onUpdate:modelValue":n[0]||(n[0]=s=>e.model=s),options:e.options,label:"Standard",filled:""},null,8,["modelValue","options"]),b(le,{name:1,title:"Select Reviewers",icon:"settings",done:r.step>1},{default:w(()=>[b(je,{bordered:"",class:"",style:{width:"500px","max-height":"280px","overflow-y":"auto"}},{default:w(()=>[(x(!0),Q(V,null,B(a.reviewers,s=>(x(),F(Ke,{onClick:i=>t.selectReviewer(s.id),clickable:"",active:r.selectedReviewers.includes(s.id),key:s.id},{default:w(()=>[b(Me,null,{default:w(()=>[Y(q(s.first_name)+" "+q(s.last_name),1)]),_:2},1024)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_:1},8,["done"]),b(le,{name:2,title:"Invite Reviewers",icon:"create_new_folder",done:r.step>2},{default:w(()=>[f("p",null,[b(ue,{name:"info",size:"md"}),Y(" An email invitation will be sent to each of the selected reviewers ")]),b(ze,{class:"my-card",style:{width:"500px",height:"250px","overflow-y":"auto"},flat:"",bordered:""},{default:w(()=>[f("ul",null,[(x(!0),Q(V,null,B(a.reviewers.filter(s=>r.selectedReviewers.includes(s.id)),s=>(x(),Q("li",{key:s.id},[Y(q(s.first_name)+" "+q(s.last_name)+" ("+q(s.email)+") ",1),f("ul",null,[(x(!0),Q(V,null,B(s.profile.themes,i=>(x(),Q("li",{key:i.id},q(i.theme_title),1))),128))])]))),128))])]),_:1})]),_:1},8,["done"])]),_:1},8,["modelValue"])])}var ut=pe(lt,[["render",at]]);const ct={components:{AssignReviewers:ut},name:"ReviewerList",data(){return{show:!1,formData:{theme:null,exclude__status:"EDITING",call:this.$dataStore.currentCall.id},proposals:[],themes:[],selectedProposals:[],allSelected:!1}},created(){this.getProposals(),this.getThemes(),this.getReviewers()},methods:{getProposals(){var e=this.$buildURLQuery(this.formData);this.$api.get(`proposals/?${e}`).then(n=>{this.proposals=n.data,this.getProposalScores()})},getThemes(){this.$api.get("themes/").then(e=>{this.themes=e.data})},getReviewers(){var e=this.$buildURLQuery({themes__in:this.formData.theme});this.$api.get(`users/?${e}&groups__name__in=reviewer`).then(n=>{this.reviewers=n.data})},getProposalScores(){for(let e=0;e<this.proposals.length;e++){const n=this.proposals[e];this.$api.get(`scores/?proposal=${n.id}`).then(a=>{this.proposals[e].scores=a.data})}},createScores(e){this.$utilsStore.setLoading(!0);const n=e.length*this.selectedProposals.length;let a=0;for(let c=0;c<e.length;c++){const r=e[c],t=this.reviewers.find(s=>s.id==r).email;for(let s=0;s<this.selectedProposals.length;s++){const i=this.selectedProposals[s];this.$api.post("scores/",{proposal:i,email:t,user:r}).then(o=>{a+=1,o.status==201&&console.log("done >> "+r+", "+i),a==n&&(this.$utilsStore.setLoading(!1),this.getProposalScores())}).catch(o=>{a+=1,a==n&&(this.$utilsStore.setLoading(!1),this.getProposalScores())})}}},deleteScore(e){confirm("Are you sure you would like to delete this reviewer?")&&(this.$utilsStore.setLoading(!0),this.$api.delete(`scores/${e}/`).then(n=>{n.status==204&&(this.getProposalScores(),this.$utilsStore.setLoading(!1))}))},selectProposal(e){this.selectedProposals.includes(e)?this.selectedProposals=this.selectedProposals.filter(n=>n!=e):this.selectedProposals.push(e),this.selectedProposals.length==this.proposals.length&&(this.allSelected=!0)},selectAllProposals(e){e.target.checked?this.selectedProposals=this.proposals.map(n=>n.id):this.selectedProposals=[]}}},I=e=>(Ne("data-v-06506bf2"),e=e(),Le(),e),dt={class:"q-ma-md"},pt={align:"right",class:"q-ma-sm row"},vt={class:"col"},ft={class:"col"},mt={align:"left"},ht=["checked"],gt=I(()=>f("th",{align:"left"},"Title",-1)),_t=I(()=>f("th",{align:"left"},"Date Submitted",-1)),bt=I(()=>f("th",{align:"left"},"PI",-1)),yt=I(()=>f("th",{align:"left"},"Reviewers",-1)),St=I(()=>f("th",{align:"left"},"Status",-1)),Pt=I(()=>f("th",{align:"left"},null,-1)),wt=["checked","onClick"],Ct={class:"flex"};function xt(e,n,a,c,r,t){const s=te("AssignReviewers"),i=te("router-link");return x(),F(Fe,null,{default:w(()=>[f("div",dt,[b(ye,null,{default:w(()=>[b(Z,{icon:"home",to:"/",label:"Home"}),b(Z,{label:"Submitted Proposals",icon:"list"})]),_:1})]),b(Se,{spaced:""}),f("div",pt,[f("div",vt,[b(ie,{modelValue:r.formData.theme,"onUpdate:modelValue":[n[0]||(n[0]=o=>r.formData.theme=o),n[1]||(n[1]=o=>{t.getProposals(),t.getReviewers()})],dense:"",outlined:"",options:[{id:null,title:"All"}].concat(r.themes),label:"Select Theme","option-value":"id","option-label":"title","map-options":"","emit-value":""},null,8,["modelValue","options"])]),f("div",ft,[b(K,{color:"primary",label:"Assign Reviewers",disabled:r.selectedProposals.length==0},{default:w(()=>[b(Pe,{modelValue:r.show,"onUpdate:modelValue":n[3]||(n[3]=o=>r.show=o),breakpoint:1e3},{default:w(()=>[b(s,{reviewers:e.reviewers,onReviewersSelected:n[2]||(n[2]=o=>{t.createScores(o),r.show=!1})},null,8,["reviewers"])]),_:1},8,["modelValue"])]),_:1},8,["disabled"])])]),b(Ue,{class:"q-ma-sm",flat:"",bordered:""},{default:w(()=>[f("thead",null,[f("tr",null,[f("th",mt,[f("input",{checked:r.allSelected,type:"checkbox",onClick:n[4]||(n[4]=o=>t.selectAllProposals(o))},null,8,ht)]),gt,_t,bt,yt,St,Pt])]),f("tbody",null,[(x(!0),Q(V,null,B(r.proposals,o=>(x(),Q("tr",{key:o.id},[f("td",null,[f("input",{checked:r.selectedProposals.includes(o.id),type:"checkbox",onClick:m=>t.selectProposal(o.id)},null,8,wt)]),f("td",null,q(o.title),1),f("td",null,q(o.submission_date),1),f("td",null,q(o.user__first_name)+" "+q(o.user__last_name),1),f("td",null,[f("div",Ct,[(x(!0),Q(V,null,B(o.scores,m=>(x(),F(Ee,{key:m.id,class:"glossy",label:`${m.user__first_name} ${m.user__last_name}`,removable:"",onRemove:v=>t.deleteScore(m.id)},null,8,["label","onRemove"]))),128))])]),f("td",null,q(o.status),1),f("td",null,[b(i,{to:`/proposals/${o.id}`},{default:w(()=>[b(K,{label:"View",flat:"",color:"primary",onClick:m=>e.editItem(o)},null,8,["onClick"])]),_:2},1032,["to"])])]))),128))])]),_:1})]),_:1})}var tn=pe(ct,[["render",xt],["__scopeId","data-v-06506bf2"]]);export{tn as default};
